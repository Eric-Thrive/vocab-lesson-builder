function Vp(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();function Wp(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Hp(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var id={exports:{}},Ki={},od={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ss=Symbol.for("react.element"),Kp=Symbol.for("react.portal"),qp=Symbol.for("react.fragment"),Gp=Symbol.for("react.strict_mode"),Jp=Symbol.for("react.profiler"),Qp=Symbol.for("react.provider"),Yp=Symbol.for("react.context"),Xp=Symbol.for("react.forward_ref"),Zp=Symbol.for("react.suspense"),eg=Symbol.for("react.memo"),tg=Symbol.for("react.lazy"),wu=Symbol.iterator;function rg(t){return t===null||typeof t!="object"?null:(t=wu&&t[wu]||t["@@iterator"],typeof t=="function"?t:null)}var ad={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ld=Object.assign,ud={};function Sn(t,e,r){this.props=t,this.context=e,this.refs=ud,this.updater=r||ad}Sn.prototype.isReactComponent={};Sn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Sn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function cd(){}cd.prototype=Sn.prototype;function sl(t,e,r){this.props=t,this.context=e,this.refs=ud,this.updater=r||ad}var il=sl.prototype=new cd;il.constructor=sl;ld(il,Sn.prototype);il.isPureReactComponent=!0;var _u=Array.isArray,dd=Object.prototype.hasOwnProperty,ol={current:null},hd={key:!0,ref:!0,__self:!0,__source:!0};function fd(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)dd.call(e,n)&&!hd.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:Ss,type:t,key:i,ref:o,props:s,_owner:ol.current}}function ng(t,e){return{$$typeof:Ss,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function al(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ss}function sg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var bu=/\/+/g;function mo(t,e){return typeof t=="object"&&t!==null&&t.key!=null?sg(""+t.key):e.toString(36)}function ii(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ss:case Kp:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+mo(o,0):n,_u(s)?(r="",t!=null&&(r=t.replace(bu,"$&/")+"/"),ii(s,e,r,"",function(u){return u})):s!=null&&(al(s)&&(s=ng(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(bu,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",_u(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+mo(i,a);o+=ii(i,e,r,l,s)}else if(l=rg(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+mo(i,a++),o+=ii(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function As(t,e,r){if(t==null)return t;var n=[],s=0;return ii(t,n,"","",function(i){return e.call(r,i,s++)}),n}function ig(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Pe={current:null},oi={transition:null},og={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:oi,ReactCurrentOwner:ol};function pd(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:As,forEach:function(t,e,r){As(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return As(t,function(){e++}),e},toArray:function(t){return As(t,function(e){return e})||[]},only:function(t){if(!al(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};V.Component=Sn;V.Fragment=qp;V.Profiler=Jp;V.PureComponent=sl;V.StrictMode=Gp;V.Suspense=Zp;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=og;V.act=pd;V.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=ld({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=ol.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)dd.call(e,l)&&!hd.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:Ss,type:t.type,key:s,ref:i,props:n,_owner:o}};V.createContext=function(t){return t={$$typeof:Yp,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Qp,_context:t},t.Consumer=t};V.createElement=fd;V.createFactory=function(t){var e=fd.bind(null,t);return e.type=t,e};V.createRef=function(){return{current:null}};V.forwardRef=function(t){return{$$typeof:Xp,render:t}};V.isValidElement=al;V.lazy=function(t){return{$$typeof:tg,_payload:{_status:-1,_result:t},_init:ig}};V.memo=function(t,e){return{$$typeof:eg,type:t,compare:e===void 0?null:e}};V.startTransition=function(t){var e=oi.transition;oi.transition={};try{t()}finally{oi.transition=e}};V.unstable_act=pd;V.useCallback=function(t,e){return Pe.current.useCallback(t,e)};V.useContext=function(t){return Pe.current.useContext(t)};V.useDebugValue=function(){};V.useDeferredValue=function(t){return Pe.current.useDeferredValue(t)};V.useEffect=function(t,e){return Pe.current.useEffect(t,e)};V.useId=function(){return Pe.current.useId()};V.useImperativeHandle=function(t,e,r){return Pe.current.useImperativeHandle(t,e,r)};V.useInsertionEffect=function(t,e){return Pe.current.useInsertionEffect(t,e)};V.useLayoutEffect=function(t,e){return Pe.current.useLayoutEffect(t,e)};V.useMemo=function(t,e){return Pe.current.useMemo(t,e)};V.useReducer=function(t,e,r){return Pe.current.useReducer(t,e,r)};V.useRef=function(t){return Pe.current.useRef(t)};V.useState=function(t){return Pe.current.useState(t)};V.useSyncExternalStore=function(t,e,r){return Pe.current.useSyncExternalStore(t,e,r)};V.useTransition=function(){return Pe.current.useTransition()};V.version="18.3.1";od.exports=V;var z=od.exports;const Hr=Wp(z);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ag=z,lg=Symbol.for("react.element"),ug=Symbol.for("react.fragment"),cg=Object.prototype.hasOwnProperty,dg=ag.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,hg={key:!0,ref:!0,__self:!0,__source:!0};function gd(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)cg.call(e,n)&&!hg.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:lg,type:t,key:i,ref:o,props:s,_owner:dg.current}}Ki.Fragment=ug;Ki.jsx=gd;Ki.jsxs=gd;id.exports=Ki;var h=id.exports,Xo={},md={exports:{}},Qe={},yd={exports:{}},vd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,B){var $=N.length;N.push(B);e:for(;0<$;){var X=$-1>>>1,ue=N[X];if(0<s(ue,B))N[X]=B,N[$]=ue,$=X;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var B=N[0],$=N.pop();if($!==B){N[0]=$;e:for(var X=0,ue=N.length,Ar=ue>>>1;X<Ar;){var Ct=2*(X+1)-1,Ir=N[Ct],Ae=Ct+1,dr=N[Ae];if(0>s(Ir,$))Ae<ue&&0>s(dr,Ir)?(N[X]=dr,N[Ae]=$,X=Ae):(N[X]=Ir,N[Ct]=$,X=Ct);else if(Ae<ue&&0>s(dr,$))N[X]=dr,N[Ae]=$,X=Ae;else break e}}return B}function s(N,B){var $=N.sortIndex-B.sortIndex;return $!==0?$:N.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,f=null,d=3,y=!1,v=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(N){for(var B=r(u);B!==null;){if(B.callback===null)n(u);else if(B.startTime<=N)n(u),B.sortIndex=B.expirationTime,e(l,B);else break;B=r(u)}}function _(N){if(w=!1,g(N),!v)if(r(l)!==null)v=!0,vt(j);else{var B=r(u);B!==null&&cr(_,B.startTime-N)}}function j(N,B){v=!1,w&&(w=!1,m(R),R=-1),y=!0;var $=d;try{for(g(B),f=r(l);f!==null&&(!(f.expirationTime>B)||N&&!ye());){var X=f.callback;if(typeof X=="function"){f.callback=null,d=f.priorityLevel;var ue=X(f.expirationTime<=B);B=t.unstable_now(),typeof ue=="function"?f.callback=ue:f===r(l)&&n(l),g(B)}else n(l);f=r(l)}if(f!==null)var Ar=!0;else{var Ct=r(u);Ct!==null&&cr(_,Ct.startTime-B),Ar=!1}return Ar}finally{f=null,d=$,y=!1}}var C=!1,T=null,R=-1,W=5,M=-1;function ye(){return!(t.unstable_now()-M<W)}function ot(){if(T!==null){var N=t.unstable_now();M=N;var B=!0;try{B=T(!0,N)}finally{B?ur():(C=!1,T=null)}}else C=!1}var ur;if(typeof p=="function")ur=function(){p(ot)};else if(typeof MessageChannel<"u"){var Me=new MessageChannel,co=Me.port2;Me.port1.onmessage=ot,ur=function(){co.postMessage(null)}}else ur=function(){b(ot,0)};function vt(N){T=N,C||(C=!0,ur())}function cr(N,B){R=b(function(){N(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,vt(j))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(N){switch(d){case 1:case 2:case 3:var B=3;break;default:B=d}var $=d;d=B;try{return N()}finally{d=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,B){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var $=d;d=N;try{return B()}finally{d=$}},t.unstable_scheduleCallback=function(N,B,$){var X=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?X+$:X):$=X,N){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=$+ue,N={id:c++,callback:B,priorityLevel:N,startTime:$,expirationTime:ue,sortIndex:-1},$>X?(N.sortIndex=$,e(u,N),r(l)===null&&N===r(u)&&(w?(m(R),R=-1):w=!0,cr(_,$-X))):(N.sortIndex=ue,e(l,N),v||y||(v=!0,vt(j))),N},t.unstable_shouldYield=ye,t.unstable_wrapCallback=function(N){var B=d;return function(){var $=d;d=B;try{return N.apply(this,arguments)}finally{d=$}}}})(vd);yd.exports=vd;var fg=yd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pg=z,Je=fg;function k(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wd=new Set,rs={};function Pr(t,e){pn(t,e),pn(t+"Capture",e)}function pn(t,e){for(rs[t]=e,t=0;t<e.length;t++)wd.add(e[t])}var $t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zo=Object.prototype.hasOwnProperty,gg=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Su={},xu={};function mg(t){return Zo.call(xu,t)?!0:Zo.call(Su,t)?!1:gg.test(t)?xu[t]=!0:(Su[t]=!0,!1)}function yg(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function vg(t,e,r,n){if(e===null||typeof e>"u"||yg(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Re(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var xe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){xe[t]=new Re(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];xe[e]=new Re(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){xe[t]=new Re(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){xe[t]=new Re(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){xe[t]=new Re(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){xe[t]=new Re(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){xe[t]=new Re(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){xe[t]=new Re(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){xe[t]=new Re(t,5,!1,t.toLowerCase(),null,!1,!1)});var ll=/[\-:]([a-z])/g;function ul(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ll,ul);xe[e]=new Re(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ll,ul);xe[e]=new Re(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ll,ul);xe[e]=new Re(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){xe[t]=new Re(t,1,!1,t.toLowerCase(),null,!1,!1)});xe.xlinkHref=new Re("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){xe[t]=new Re(t,1,!1,t.toLowerCase(),null,!0,!0)});function cl(t,e,r,n){var s=xe.hasOwnProperty(e)?xe[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(vg(e,r,s,n)&&(r=null),n||s===null?mg(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Bt=pg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Is=Symbol.for("react.element"),Gr=Symbol.for("react.portal"),Jr=Symbol.for("react.fragment"),dl=Symbol.for("react.strict_mode"),ea=Symbol.for("react.profiler"),_d=Symbol.for("react.provider"),bd=Symbol.for("react.context"),hl=Symbol.for("react.forward_ref"),ta=Symbol.for("react.suspense"),ra=Symbol.for("react.suspense_list"),fl=Symbol.for("react.memo"),Ft=Symbol.for("react.lazy"),Sd=Symbol.for("react.offscreen"),ku=Symbol.iterator;function Rn(t){return t===null||typeof t!="object"?null:(t=ku&&t[ku]||t["@@iterator"],typeof t=="function"?t:null)}var ae=Object.assign,yo;function zn(t){if(yo===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);yo=e&&e[1]||""}return`
`+yo+t}var vo=!1;function wo(t,e){if(!t||vo)return"";vo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{vo=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?zn(t):""}function wg(t){switch(t.tag){case 5:return zn(t.type);case 16:return zn("Lazy");case 13:return zn("Suspense");case 19:return zn("SuspenseList");case 0:case 2:case 15:return t=wo(t.type,!1),t;case 11:return t=wo(t.type.render,!1),t;case 1:return t=wo(t.type,!0),t;default:return""}}function na(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Jr:return"Fragment";case Gr:return"Portal";case ea:return"Profiler";case dl:return"StrictMode";case ta:return"Suspense";case ra:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bd:return(t.displayName||"Context")+".Consumer";case _d:return(t._context.displayName||"Context")+".Provider";case hl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fl:return e=t.displayName||null,e!==null?e:na(t.type)||"Memo";case Ft:e=t._payload,t=t._init;try{return na(t(e))}catch{}}return null}function _g(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return na(e);case 8:return e===dl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function nr(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function xd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function bg(t){var e=xd(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function $s(t){t._valueTracker||(t._valueTracker=bg(t))}function kd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=xd(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function yi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function sa(t,e){var r=e.checked;return ae({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Eu(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=nr(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ed(t,e){e=e.checked,e!=null&&cl(t,"checked",e,!1)}function ia(t,e){Ed(t,e);var r=nr(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?oa(t,e.type,r):e.hasOwnProperty("defaultValue")&&oa(t,e.type,nr(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ju(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function oa(t,e,r){(e!=="number"||yi(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Mn=Array.isArray;function an(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+nr(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function aa(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(k(91));return ae({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Cu(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(k(92));if(Mn(r)){if(1<r.length)throw Error(k(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:nr(r)}}function jd(t,e){var r=nr(e.value),n=nr(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Tu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Cd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function la(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Cd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ls,Td=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ls=Ls||document.createElement("div"),Ls.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ls.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ns(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Hn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Sg=["Webkit","ms","Moz","O"];Object.keys(Hn).forEach(function(t){Sg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Hn[e]=Hn[t]})});function Od(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Hn.hasOwnProperty(t)&&Hn[t]?(""+e).trim():e+"px"}function Nd(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=Od(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var xg=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ua(t,e){if(e){if(xg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(k(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(k(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(k(61))}if(e.style!=null&&typeof e.style!="object")throw Error(k(62))}}function ca(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var da=null;function pl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ha=null,ln=null,un=null;function Ou(t){if(t=Es(t)){if(typeof ha!="function")throw Error(k(280));var e=t.stateNode;e&&(e=Yi(e),ha(t.stateNode,t.type,e))}}function Pd(t){ln?un?un.push(t):un=[t]:ln=t}function Rd(){if(ln){var t=ln,e=un;if(un=ln=null,Ou(t),e)for(t=0;t<e.length;t++)Ou(e[t])}}function Ad(t,e){return t(e)}function Id(){}var _o=!1;function $d(t,e,r){if(_o)return t(e,r);_o=!0;try{return Ad(t,e,r)}finally{_o=!1,(ln!==null||un!==null)&&(Id(),Rd())}}function ss(t,e){var r=t.stateNode;if(r===null)return null;var n=Yi(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(k(231,e,typeof r));return r}var fa=!1;if($t)try{var An={};Object.defineProperty(An,"passive",{get:function(){fa=!0}}),window.addEventListener("test",An,An),window.removeEventListener("test",An,An)}catch{fa=!1}function kg(t,e,r,n,s,i,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var Kn=!1,vi=null,wi=!1,pa=null,Eg={onError:function(t){Kn=!0,vi=t}};function jg(t,e,r,n,s,i,o,a,l){Kn=!1,vi=null,kg.apply(Eg,arguments)}function Cg(t,e,r,n,s,i,o,a,l){if(jg.apply(this,arguments),Kn){if(Kn){var u=vi;Kn=!1,vi=null}else throw Error(k(198));wi||(wi=!0,pa=u)}}function Rr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Ld(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Nu(t){if(Rr(t)!==t)throw Error(k(188))}function Tg(t){var e=t.alternate;if(!e){if(e=Rr(t),e===null)throw Error(k(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return Nu(s),t;if(i===n)return Nu(s),e;i=i.sibling}throw Error(k(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(k(189))}}if(r.alternate!==n)throw Error(k(190))}if(r.tag!==3)throw Error(k(188));return r.stateNode.current===r?t:e}function Ud(t){return t=Tg(t),t!==null?Dd(t):null}function Dd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Dd(t);if(e!==null)return e;t=t.sibling}return null}var Bd=Je.unstable_scheduleCallback,Pu=Je.unstable_cancelCallback,Og=Je.unstable_shouldYield,Ng=Je.unstable_requestPaint,de=Je.unstable_now,Pg=Je.unstable_getCurrentPriorityLevel,gl=Je.unstable_ImmediatePriority,zd=Je.unstable_UserBlockingPriority,_i=Je.unstable_NormalPriority,Rg=Je.unstable_LowPriority,Md=Je.unstable_IdlePriority,qi=null,kt=null;function Ag(t){if(kt&&typeof kt.onCommitFiberRoot=="function")try{kt.onCommitFiberRoot(qi,t,void 0,(t.current.flags&128)===128)}catch{}}var pt=Math.clz32?Math.clz32:Lg,Ig=Math.log,$g=Math.LN2;function Lg(t){return t>>>=0,t===0?32:31-(Ig(t)/$g|0)|0}var Us=64,Ds=4194304;function Fn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function bi(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Fn(a):(i&=o,i!==0&&(n=Fn(i)))}else o=r&~s,o!==0?n=Fn(o):i!==0&&(n=Fn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-pt(e),s=1<<r,n|=t[r],e&=~s;return n}function Ug(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dg(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-pt(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=Ug(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function ga(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Fd(){var t=Us;return Us<<=1,!(Us&4194240)&&(Us=64),t}function bo(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function xs(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pt(e),t[e]=r}function Bg(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-pt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function ml(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-pt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var G=0;function Vd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Wd,yl,Hd,Kd,qd,ma=!1,Bs=[],Jt=null,Qt=null,Yt=null,is=new Map,os=new Map,Wt=[],zg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ru(t,e){switch(t){case"focusin":case"focusout":Jt=null;break;case"dragenter":case"dragleave":Qt=null;break;case"mouseover":case"mouseout":Yt=null;break;case"pointerover":case"pointerout":is.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":os.delete(e.pointerId)}}function In(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Es(e),e!==null&&yl(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Mg(t,e,r,n,s){switch(e){case"focusin":return Jt=In(Jt,t,e,r,n,s),!0;case"dragenter":return Qt=In(Qt,t,e,r,n,s),!0;case"mouseover":return Yt=In(Yt,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return is.set(i,In(is.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,os.set(i,In(os.get(i)||null,t,e,r,n,s)),!0}return!1}function Gd(t){var e=_r(t.target);if(e!==null){var r=Rr(e);if(r!==null){if(e=r.tag,e===13){if(e=Ld(r),e!==null){t.blockedOn=e,qd(t.priority,function(){Hd(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ai(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ya(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);da=n,r.target.dispatchEvent(n),da=null}else return e=Es(r),e!==null&&yl(e),t.blockedOn=r,!1;e.shift()}return!0}function Au(t,e,r){ai(t)&&r.delete(e)}function Fg(){ma=!1,Jt!==null&&ai(Jt)&&(Jt=null),Qt!==null&&ai(Qt)&&(Qt=null),Yt!==null&&ai(Yt)&&(Yt=null),is.forEach(Au),os.forEach(Au)}function $n(t,e){t.blockedOn===e&&(t.blockedOn=null,ma||(ma=!0,Je.unstable_scheduleCallback(Je.unstable_NormalPriority,Fg)))}function as(t){function e(s){return $n(s,t)}if(0<Bs.length){$n(Bs[0],t);for(var r=1;r<Bs.length;r++){var n=Bs[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Jt!==null&&$n(Jt,t),Qt!==null&&$n(Qt,t),Yt!==null&&$n(Yt,t),is.forEach(e),os.forEach(e),r=0;r<Wt.length;r++)n=Wt[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Wt.length&&(r=Wt[0],r.blockedOn===null);)Gd(r),r.blockedOn===null&&Wt.shift()}var cn=Bt.ReactCurrentBatchConfig,Si=!0;function Vg(t,e,r,n){var s=G,i=cn.transition;cn.transition=null;try{G=1,vl(t,e,r,n)}finally{G=s,cn.transition=i}}function Wg(t,e,r,n){var s=G,i=cn.transition;cn.transition=null;try{G=4,vl(t,e,r,n)}finally{G=s,cn.transition=i}}function vl(t,e,r,n){if(Si){var s=ya(t,e,r,n);if(s===null)Po(t,e,n,xi,r),Ru(t,n);else if(Mg(s,t,e,r,n))n.stopPropagation();else if(Ru(t,n),e&4&&-1<zg.indexOf(t)){for(;s!==null;){var i=Es(s);if(i!==null&&Wd(i),i=ya(t,e,r,n),i===null&&Po(t,e,n,xi,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else Po(t,e,n,null,r)}}var xi=null;function ya(t,e,r,n){if(xi=null,t=pl(n),t=_r(t),t!==null)if(e=Rr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Ld(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return xi=t,null}function Jd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pg()){case gl:return 1;case zd:return 4;case _i:case Rg:return 16;case Md:return 536870912;default:return 16}default:return 16}}var qt=null,wl=null,li=null;function Qd(){if(li)return li;var t,e=wl,r=e.length,n,s="value"in qt?qt.value:qt.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return li=s.slice(t,1<n?1-n:void 0)}function ui(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function zs(){return!0}function Iu(){return!1}function Ye(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?zs:Iu,this.isPropagationStopped=Iu,this}return ae(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=zs)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=zs)},persist:function(){},isPersistent:zs}),e}var xn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},_l=Ye(xn),ks=ae({},xn,{view:0,detail:0}),Hg=Ye(ks),So,xo,Ln,Gi=ae({},ks,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:bl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ln&&(Ln&&t.type==="mousemove"?(So=t.screenX-Ln.screenX,xo=t.screenY-Ln.screenY):xo=So=0,Ln=t),So)},movementY:function(t){return"movementY"in t?t.movementY:xo}}),$u=Ye(Gi),Kg=ae({},Gi,{dataTransfer:0}),qg=Ye(Kg),Gg=ae({},ks,{relatedTarget:0}),ko=Ye(Gg),Jg=ae({},xn,{animationName:0,elapsedTime:0,pseudoElement:0}),Qg=Ye(Jg),Yg=ae({},xn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Xg=Ye(Yg),Zg=ae({},xn,{data:0}),Lu=Ye(Zg),em={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},tm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=rm[t])?!!e[t]:!1}function bl(){return nm}var sm=ae({},ks,{key:function(t){if(t.key){var e=em[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ui(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?tm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:bl,charCode:function(t){return t.type==="keypress"?ui(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ui(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),im=Ye(sm),om=ae({},Gi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uu=Ye(om),am=ae({},ks,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:bl}),lm=Ye(am),um=ae({},xn,{propertyName:0,elapsedTime:0,pseudoElement:0}),cm=Ye(um),dm=ae({},Gi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),hm=Ye(dm),fm=[9,13,27,32],Sl=$t&&"CompositionEvent"in window,qn=null;$t&&"documentMode"in document&&(qn=document.documentMode);var pm=$t&&"TextEvent"in window&&!qn,Yd=$t&&(!Sl||qn&&8<qn&&11>=qn),Du=String.fromCharCode(32),Bu=!1;function Xd(t,e){switch(t){case"keyup":return fm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qr=!1;function gm(t,e){switch(t){case"compositionend":return Zd(e);case"keypress":return e.which!==32?null:(Bu=!0,Du);case"textInput":return t=e.data,t===Du&&Bu?null:t;default:return null}}function mm(t,e){if(Qr)return t==="compositionend"||!Sl&&Xd(t,e)?(t=Qd(),li=wl=qt=null,Qr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Yd&&e.locale!=="ko"?null:e.data;default:return null}}var ym={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!ym[t.type]:e==="textarea"}function eh(t,e,r,n){Pd(n),e=ki(e,"onChange"),0<e.length&&(r=new _l("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Gn=null,ls=null;function vm(t){dh(t,0)}function Ji(t){var e=Zr(t);if(kd(e))return t}function wm(t,e){if(t==="change")return e}var th=!1;if($t){var Eo;if($t){var jo="oninput"in document;if(!jo){var Mu=document.createElement("div");Mu.setAttribute("oninput","return;"),jo=typeof Mu.oninput=="function"}Eo=jo}else Eo=!1;th=Eo&&(!document.documentMode||9<document.documentMode)}function Fu(){Gn&&(Gn.detachEvent("onpropertychange",rh),ls=Gn=null)}function rh(t){if(t.propertyName==="value"&&Ji(ls)){var e=[];eh(e,ls,t,pl(t)),$d(vm,e)}}function _m(t,e,r){t==="focusin"?(Fu(),Gn=e,ls=r,Gn.attachEvent("onpropertychange",rh)):t==="focusout"&&Fu()}function bm(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ji(ls)}function Sm(t,e){if(t==="click")return Ji(e)}function xm(t,e){if(t==="input"||t==="change")return Ji(e)}function km(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mt=typeof Object.is=="function"?Object.is:km;function us(t,e){if(mt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!Zo.call(e,s)||!mt(t[s],e[s]))return!1}return!0}function Vu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wu(t,e){var r=Vu(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Vu(r)}}function nh(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nh(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sh(){for(var t=window,e=yi();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=yi(t.document)}return e}function xl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Em(t){var e=sh(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&nh(r.ownerDocument.documentElement,r)){if(n!==null&&xl(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Wu(r,i);var o=Wu(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jm=$t&&"documentMode"in document&&11>=document.documentMode,Yr=null,va=null,Jn=null,wa=!1;function Hu(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;wa||Yr==null||Yr!==yi(n)||(n=Yr,"selectionStart"in n&&xl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Jn&&us(Jn,n)||(Jn=n,n=ki(va,"onSelect"),0<n.length&&(e=new _l("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Yr)))}function Ms(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Xr={animationend:Ms("Animation","AnimationEnd"),animationiteration:Ms("Animation","AnimationIteration"),animationstart:Ms("Animation","AnimationStart"),transitionend:Ms("Transition","TransitionEnd")},Co={},ih={};$t&&(ih=document.createElement("div").style,"AnimationEvent"in window||(delete Xr.animationend.animation,delete Xr.animationiteration.animation,delete Xr.animationstart.animation),"TransitionEvent"in window||delete Xr.transitionend.transition);function Qi(t){if(Co[t])return Co[t];if(!Xr[t])return t;var e=Xr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in ih)return Co[t]=e[r];return t}var oh=Qi("animationend"),ah=Qi("animationiteration"),lh=Qi("animationstart"),uh=Qi("transitionend"),ch=new Map,Ku="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ir(t,e){ch.set(t,e),Pr(e,[t])}for(var To=0;To<Ku.length;To++){var Oo=Ku[To],Cm=Oo.toLowerCase(),Tm=Oo[0].toUpperCase()+Oo.slice(1);ir(Cm,"on"+Tm)}ir(oh,"onAnimationEnd");ir(ah,"onAnimationIteration");ir(lh,"onAnimationStart");ir("dblclick","onDoubleClick");ir("focusin","onFocus");ir("focusout","onBlur");ir(uh,"onTransitionEnd");pn("onMouseEnter",["mouseout","mouseover"]);pn("onMouseLeave",["mouseout","mouseover"]);pn("onPointerEnter",["pointerout","pointerover"]);pn("onPointerLeave",["pointerout","pointerover"]);Pr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Pr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Pr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Pr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Pr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Om=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vn));function qu(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,Cg(n,e,void 0,t),t.currentTarget=null}function dh(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;qu(s,a,u),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;qu(s,a,u),i=l}}}if(wi)throw t=pa,wi=!1,pa=null,t}function Z(t,e){var r=e[ka];r===void 0&&(r=e[ka]=new Set);var n=t+"__bubble";r.has(n)||(hh(e,t,2,!1),r.add(n))}function No(t,e,r){var n=0;e&&(n|=4),hh(r,t,n,e)}var Fs="_reactListening"+Math.random().toString(36).slice(2);function cs(t){if(!t[Fs]){t[Fs]=!0,wd.forEach(function(r){r!=="selectionchange"&&(Om.has(r)||No(r,!1,t),No(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Fs]||(e[Fs]=!0,No("selectionchange",!1,e))}}function hh(t,e,r,n){switch(Jd(e)){case 1:var s=Vg;break;case 4:s=Wg;break;default:s=vl}r=s.bind(null,e,r,t),s=void 0,!fa||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function Po(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=_r(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}$d(function(){var u=i,c=pl(r),f=[];e:{var d=ch.get(t);if(d!==void 0){var y=_l,v=t;switch(t){case"keypress":if(ui(r)===0)break e;case"keydown":case"keyup":y=im;break;case"focusin":v="focus",y=ko;break;case"focusout":v="blur",y=ko;break;case"beforeblur":case"afterblur":y=ko;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=$u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=qg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=lm;break;case oh:case ah:case lh:y=Qg;break;case uh:y=cm;break;case"scroll":y=Hg;break;case"wheel":y=hm;break;case"copy":case"cut":case"paste":y=Xg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Uu}var w=(e&4)!==0,b=!w&&t==="scroll",m=w?d!==null?d+"Capture":null:d;w=[];for(var p=u,g;p!==null;){g=p;var _=g.stateNode;if(g.tag===5&&_!==null&&(g=_,m!==null&&(_=ss(p,m),_!=null&&w.push(ds(p,_,g)))),b)break;p=p.return}0<w.length&&(d=new y(d,v,null,r,c),f.push({event:d,listeners:w}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",d&&r!==da&&(v=r.relatedTarget||r.fromElement)&&(_r(v)||v[Lt]))break e;if((y||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,y?(v=r.relatedTarget||r.toElement,y=u,v=v?_r(v):null,v!==null&&(b=Rr(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=u),y!==v)){if(w=$u,_="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=Uu,_="onPointerLeave",m="onPointerEnter",p="pointer"),b=y==null?d:Zr(y),g=v==null?d:Zr(v),d=new w(_,p+"leave",y,r,c),d.target=b,d.relatedTarget=g,_=null,_r(c)===u&&(w=new w(m,p+"enter",v,r,c),w.target=g,w.relatedTarget=b,_=w),b=_,y&&v)t:{for(w=y,m=v,p=0,g=w;g;g=Dr(g))p++;for(g=0,_=m;_;_=Dr(_))g++;for(;0<p-g;)w=Dr(w),p--;for(;0<g-p;)m=Dr(m),g--;for(;p--;){if(w===m||m!==null&&w===m.alternate)break t;w=Dr(w),m=Dr(m)}w=null}else w=null;y!==null&&Gu(f,d,y,w,!1),v!==null&&b!==null&&Gu(f,b,v,w,!0)}}e:{if(d=u?Zr(u):window,y=d.nodeName&&d.nodeName.toLowerCase(),y==="select"||y==="input"&&d.type==="file")var j=wm;else if(zu(d))if(th)j=xm;else{j=bm;var C=_m}else(y=d.nodeName)&&y.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(j=Sm);if(j&&(j=j(t,u))){eh(f,j,r,c);break e}C&&C(t,d,u),t==="focusout"&&(C=d._wrapperState)&&C.controlled&&d.type==="number"&&oa(d,"number",d.value)}switch(C=u?Zr(u):window,t){case"focusin":(zu(C)||C.contentEditable==="true")&&(Yr=C,va=u,Jn=null);break;case"focusout":Jn=va=Yr=null;break;case"mousedown":wa=!0;break;case"contextmenu":case"mouseup":case"dragend":wa=!1,Hu(f,r,c);break;case"selectionchange":if(jm)break;case"keydown":case"keyup":Hu(f,r,c)}var T;if(Sl)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Qr?Xd(t,r)&&(R="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(Yd&&r.locale!=="ko"&&(Qr||R!=="onCompositionStart"?R==="onCompositionEnd"&&Qr&&(T=Qd()):(qt=c,wl="value"in qt?qt.value:qt.textContent,Qr=!0)),C=ki(u,R),0<C.length&&(R=new Lu(R,t,null,r,c),f.push({event:R,listeners:C}),T?R.data=T:(T=Zd(r),T!==null&&(R.data=T)))),(T=pm?gm(t,r):mm(t,r))&&(u=ki(u,"onBeforeInput"),0<u.length&&(c=new Lu("onBeforeInput","beforeinput",null,r,c),f.push({event:c,listeners:u}),c.data=T))}dh(f,e)})}function ds(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ki(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ss(t,r),i!=null&&n.unshift(ds(t,i,s)),i=ss(t,e),i!=null&&n.push(ds(t,i,s))),t=t.return}return n}function Dr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gu(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,s?(l=ss(r,i),l!=null&&o.unshift(ds(r,l,a))):s||(l=ss(r,i),l!=null&&o.push(ds(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Nm=/\r\n?/g,Pm=/\u0000|\uFFFD/g;function Ju(t){return(typeof t=="string"?t:""+t).replace(Nm,`
`).replace(Pm,"")}function Vs(t,e,r){if(e=Ju(e),Ju(t)!==e&&r)throw Error(k(425))}function Ei(){}var _a=null,ba=null;function Sa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xa=typeof setTimeout=="function"?setTimeout:void 0,Rm=typeof clearTimeout=="function"?clearTimeout:void 0,Qu=typeof Promise=="function"?Promise:void 0,Am=typeof queueMicrotask=="function"?queueMicrotask:typeof Qu<"u"?function(t){return Qu.resolve(null).then(t).catch(Im)}:xa;function Im(t){setTimeout(function(){throw t})}function Ro(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),as(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);as(e)}function Xt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Yu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var kn=Math.random().toString(36).slice(2),xt="__reactFiber$"+kn,hs="__reactProps$"+kn,Lt="__reactContainer$"+kn,ka="__reactEvents$"+kn,$m="__reactListeners$"+kn,Lm="__reactHandles$"+kn;function _r(t){var e=t[xt];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Lt]||r[xt]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Yu(t);t!==null;){if(r=t[xt])return r;t=Yu(t)}return e}t=r,r=t.parentNode}return null}function Es(t){return t=t[xt]||t[Lt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(k(33))}function Yi(t){return t[hs]||null}var Ea=[],en=-1;function or(t){return{current:t}}function ee(t){0>en||(t.current=Ea[en],Ea[en]=null,en--)}function Y(t,e){en++,Ea[en]=t.current,t.current=e}var sr={},Ce=or(sr),De=or(!1),jr=sr;function gn(t,e){var r=t.type.contextTypes;if(!r)return sr;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Be(t){return t=t.childContextTypes,t!=null}function ji(){ee(De),ee(Ce)}function Xu(t,e,r){if(Ce.current!==sr)throw Error(k(168));Y(Ce,e),Y(De,r)}function fh(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(k(108,_g(t)||"Unknown",s));return ae({},r,n)}function Ci(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||sr,jr=Ce.current,Y(Ce,t),Y(De,De.current),!0}function Zu(t,e,r){var n=t.stateNode;if(!n)throw Error(k(169));r?(t=fh(t,e,jr),n.__reactInternalMemoizedMergedChildContext=t,ee(De),ee(Ce),Y(Ce,t)):ee(De),Y(De,r)}var Pt=null,Xi=!1,Ao=!1;function ph(t){Pt===null?Pt=[t]:Pt.push(t)}function Um(t){Xi=!0,ph(t)}function ar(){if(!Ao&&Pt!==null){Ao=!0;var t=0,e=G;try{var r=Pt;for(G=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Pt=null,Xi=!1}catch(s){throw Pt!==null&&(Pt=Pt.slice(t+1)),Bd(gl,ar),s}finally{G=e,Ao=!1}}return null}var tn=[],rn=0,Ti=null,Oi=0,et=[],tt=0,Cr=null,Rt=1,At="";function pr(t,e){tn[rn++]=Oi,tn[rn++]=Ti,Ti=t,Oi=e}function gh(t,e,r){et[tt++]=Rt,et[tt++]=At,et[tt++]=Cr,Cr=t;var n=Rt;t=At;var s=32-pt(n)-1;n&=~(1<<s),r+=1;var i=32-pt(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,Rt=1<<32-pt(e)+s|r<<s|n,At=i+t}else Rt=1<<i|r<<s|n,At=t}function kl(t){t.return!==null&&(pr(t,1),gh(t,1,0))}function El(t){for(;t===Ti;)Ti=tn[--rn],tn[rn]=null,Oi=tn[--rn],tn[rn]=null;for(;t===Cr;)Cr=et[--tt],et[tt]=null,At=et[--tt],et[tt]=null,Rt=et[--tt],et[tt]=null}var Ge=null,qe=null,te=!1,ft=null;function mh(t,e){var r=rt(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ec(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ge=t,qe=Xt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ge=t,qe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Cr!==null?{id:Rt,overflow:At}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=rt(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Ge=t,qe=null,!0):!1;default:return!1}}function ja(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ca(t){if(te){var e=qe;if(e){var r=e;if(!ec(t,e)){if(ja(t))throw Error(k(418));e=Xt(r.nextSibling);var n=Ge;e&&ec(t,e)?mh(n,r):(t.flags=t.flags&-4097|2,te=!1,Ge=t)}}else{if(ja(t))throw Error(k(418));t.flags=t.flags&-4097|2,te=!1,Ge=t}}}function tc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ge=t}function Ws(t){if(t!==Ge)return!1;if(!te)return tc(t),te=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Sa(t.type,t.memoizedProps)),e&&(e=qe)){if(ja(t))throw yh(),Error(k(418));for(;e;)mh(t,e),e=Xt(e.nextSibling)}if(tc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(k(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){qe=Xt(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}qe=null}}else qe=Ge?Xt(t.stateNode.nextSibling):null;return!0}function yh(){for(var t=qe;t;)t=Xt(t.nextSibling)}function mn(){qe=Ge=null,te=!1}function jl(t){ft===null?ft=[t]:ft.push(t)}var Dm=Bt.ReactCurrentBatchConfig;function Un(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(k(309));var n=r.stateNode}if(!n)throw Error(k(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(k(284));if(!r._owner)throw Error(k(290,t))}return t}function Hs(t,e){throw t=Object.prototype.toString.call(e),Error(k(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function rc(t){var e=t._init;return e(t._payload)}function vh(t){function e(m,p){if(t){var g=m.deletions;g===null?(m.deletions=[p],m.flags|=16):g.push(p)}}function r(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function n(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function s(m,p){return m=rr(m,p),m.index=0,m.sibling=null,m}function i(m,p,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<p?(m.flags|=2,p):g):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,g,_){return p===null||p.tag!==6?(p=zo(g,m.mode,_),p.return=m,p):(p=s(p,g),p.return=m,p)}function l(m,p,g,_){var j=g.type;return j===Jr?c(m,p,g.props.children,_,g.key):p!==null&&(p.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ft&&rc(j)===p.type)?(_=s(p,g.props),_.ref=Un(m,p,g),_.return=m,_):(_=mi(g.type,g.key,g.props,null,m.mode,_),_.ref=Un(m,p,g),_.return=m,_)}function u(m,p,g,_){return p===null||p.tag!==4||p.stateNode.containerInfo!==g.containerInfo||p.stateNode.implementation!==g.implementation?(p=Mo(g,m.mode,_),p.return=m,p):(p=s(p,g.children||[]),p.return=m,p)}function c(m,p,g,_,j){return p===null||p.tag!==7?(p=Er(g,m.mode,_,j),p.return=m,p):(p=s(p,g),p.return=m,p)}function f(m,p,g){if(typeof p=="string"&&p!==""||typeof p=="number")return p=zo(""+p,m.mode,g),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Is:return g=mi(p.type,p.key,p.props,null,m.mode,g),g.ref=Un(m,null,p),g.return=m,g;case Gr:return p=Mo(p,m.mode,g),p.return=m,p;case Ft:var _=p._init;return f(m,_(p._payload),g)}if(Mn(p)||Rn(p))return p=Er(p,m.mode,g,null),p.return=m,p;Hs(m,p)}return null}function d(m,p,g,_){var j=p!==null?p.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return j!==null?null:a(m,p,""+g,_);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Is:return g.key===j?l(m,p,g,_):null;case Gr:return g.key===j?u(m,p,g,_):null;case Ft:return j=g._init,d(m,p,j(g._payload),_)}if(Mn(g)||Rn(g))return j!==null?null:c(m,p,g,_,null);Hs(m,g)}return null}function y(m,p,g,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return m=m.get(g)||null,a(p,m,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Is:return m=m.get(_.key===null?g:_.key)||null,l(p,m,_,j);case Gr:return m=m.get(_.key===null?g:_.key)||null,u(p,m,_,j);case Ft:var C=_._init;return y(m,p,g,C(_._payload),j)}if(Mn(_)||Rn(_))return m=m.get(g)||null,c(p,m,_,j,null);Hs(p,_)}return null}function v(m,p,g,_){for(var j=null,C=null,T=p,R=p=0,W=null;T!==null&&R<g.length;R++){T.index>R?(W=T,T=null):W=T.sibling;var M=d(m,T,g[R],_);if(M===null){T===null&&(T=W);break}t&&T&&M.alternate===null&&e(m,T),p=i(M,p,R),C===null?j=M:C.sibling=M,C=M,T=W}if(R===g.length)return r(m,T),te&&pr(m,R),j;if(T===null){for(;R<g.length;R++)T=f(m,g[R],_),T!==null&&(p=i(T,p,R),C===null?j=T:C.sibling=T,C=T);return te&&pr(m,R),j}for(T=n(m,T);R<g.length;R++)W=y(T,m,R,g[R],_),W!==null&&(t&&W.alternate!==null&&T.delete(W.key===null?R:W.key),p=i(W,p,R),C===null?j=W:C.sibling=W,C=W);return t&&T.forEach(function(ye){return e(m,ye)}),te&&pr(m,R),j}function w(m,p,g,_){var j=Rn(g);if(typeof j!="function")throw Error(k(150));if(g=j.call(g),g==null)throw Error(k(151));for(var C=j=null,T=p,R=p=0,W=null,M=g.next();T!==null&&!M.done;R++,M=g.next()){T.index>R?(W=T,T=null):W=T.sibling;var ye=d(m,T,M.value,_);if(ye===null){T===null&&(T=W);break}t&&T&&ye.alternate===null&&e(m,T),p=i(ye,p,R),C===null?j=ye:C.sibling=ye,C=ye,T=W}if(M.done)return r(m,T),te&&pr(m,R),j;if(T===null){for(;!M.done;R++,M=g.next())M=f(m,M.value,_),M!==null&&(p=i(M,p,R),C===null?j=M:C.sibling=M,C=M);return te&&pr(m,R),j}for(T=n(m,T);!M.done;R++,M=g.next())M=y(T,m,R,M.value,_),M!==null&&(t&&M.alternate!==null&&T.delete(M.key===null?R:M.key),p=i(M,p,R),C===null?j=M:C.sibling=M,C=M);return t&&T.forEach(function(ot){return e(m,ot)}),te&&pr(m,R),j}function b(m,p,g,_){if(typeof g=="object"&&g!==null&&g.type===Jr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Is:e:{for(var j=g.key,C=p;C!==null;){if(C.key===j){if(j=g.type,j===Jr){if(C.tag===7){r(m,C.sibling),p=s(C,g.props.children),p.return=m,m=p;break e}}else if(C.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Ft&&rc(j)===C.type){r(m,C.sibling),p=s(C,g.props),p.ref=Un(m,C,g),p.return=m,m=p;break e}r(m,C);break}else e(m,C);C=C.sibling}g.type===Jr?(p=Er(g.props.children,m.mode,_,g.key),p.return=m,m=p):(_=mi(g.type,g.key,g.props,null,m.mode,_),_.ref=Un(m,p,g),_.return=m,m=_)}return o(m);case Gr:e:{for(C=g.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===g.containerInfo&&p.stateNode.implementation===g.implementation){r(m,p.sibling),p=s(p,g.children||[]),p.return=m,m=p;break e}else{r(m,p);break}else e(m,p);p=p.sibling}p=Mo(g,m.mode,_),p.return=m,m=p}return o(m);case Ft:return C=g._init,b(m,p,C(g._payload),_)}if(Mn(g))return v(m,p,g,_);if(Rn(g))return w(m,p,g,_);Hs(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,p!==null&&p.tag===6?(r(m,p.sibling),p=s(p,g),p.return=m,m=p):(r(m,p),p=zo(g,m.mode,_),p.return=m,m=p),o(m)):r(m,p)}return b}var yn=vh(!0),wh=vh(!1),Ni=or(null),Pi=null,nn=null,Cl=null;function Tl(){Cl=nn=Pi=null}function Ol(t){var e=Ni.current;ee(Ni),t._currentValue=e}function Ta(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function dn(t,e){Pi=t,Cl=nn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ue=!0),t.firstContext=null)}function st(t){var e=t._currentValue;if(Cl!==t)if(t={context:t,memoizedValue:e,next:null},nn===null){if(Pi===null)throw Error(k(308));nn=t,Pi.dependencies={lanes:0,firstContext:t}}else nn=nn.next=t;return e}var br=null;function Nl(t){br===null?br=[t]:br.push(t)}function _h(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,Nl(e)):(r.next=s.next,s.next=r),e.interleaved=r,Ut(t,n)}function Ut(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Vt=!1;function Pl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function It(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,K&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,Ut(t,r)}return s=n.interleaved,s===null?(e.next=e,Nl(n)):(e.next=s.next,s.next=e),n.interleaved=e,Ut(t,r)}function ci(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ml(t,r)}}function nc(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ri(t,e,r,n){var s=t.updateQueue;Vt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?i=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,c=u=l=null,a=i;do{var d=a.lane,y=a.eventTime;if((n&d)===d){c!==null&&(c=c.next={eventTime:y,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,w=a;switch(d=e,y=r,w.tag){case 1:if(v=w.payload,typeof v=="function"){f=v.call(y,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,d=typeof v=="function"?v.call(y,f,d):v,d==null)break e;f=ae({},f,d);break e;case 2:Vt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=s.effects,d===null?s.effects=[a]:d.push(a))}else y={eventTime:y,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=y,l=f):c=c.next=y,o|=d;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;d=a,a=d.next,d.next=null,s.lastBaseUpdate=d,s.shared.pending=null}}while(1);if(c===null&&(l=f),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=c,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Or|=o,t.lanes=o,t.memoizedState=f}}function sc(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(k(191,s));s.call(n)}}}var js={},Et=or(js),fs=or(js),ps=or(js);function Sr(t){if(t===js)throw Error(k(174));return t}function Rl(t,e){switch(Y(ps,e),Y(fs,t),Y(Et,js),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:la(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=la(e,t)}ee(Et),Y(Et,e)}function vn(){ee(Et),ee(fs),ee(ps)}function Sh(t){Sr(ps.current);var e=Sr(Et.current),r=la(e,t.type);e!==r&&(Y(fs,t),Y(Et,r))}function Al(t){fs.current===t&&(ee(Et),ee(fs))}var ie=or(0);function Ai(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Io=[];function Il(){for(var t=0;t<Io.length;t++)Io[t]._workInProgressVersionPrimary=null;Io.length=0}var di=Bt.ReactCurrentDispatcher,$o=Bt.ReactCurrentBatchConfig,Tr=0,oe=null,ge=null,ve=null,Ii=!1,Qn=!1,gs=0,Bm=0;function ke(){throw Error(k(321))}function $l(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!mt(t[r],e[r]))return!1;return!0}function Ll(t,e,r,n,s,i){if(Tr=i,oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,di.current=t===null||t.memoizedState===null?Vm:Wm,t=r(n,s),Qn){i=0;do{if(Qn=!1,gs=0,25<=i)throw Error(k(301));i+=1,ve=ge=null,e.updateQueue=null,di.current=Hm,t=r(n,s)}while(Qn)}if(di.current=$i,e=ge!==null&&ge.next!==null,Tr=0,ve=ge=oe=null,Ii=!1,e)throw Error(k(300));return t}function Ul(){var t=gs!==0;return gs=0,t}function St(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ve===null?oe.memoizedState=ve=t:ve=ve.next=t,ve}function it(){if(ge===null){var t=oe.alternate;t=t!==null?t.memoizedState:null}else t=ge.next;var e=ve===null?oe.memoizedState:ve.next;if(e!==null)ve=e,ge=t;else{if(t===null)throw Error(k(310));ge=t,t={memoizedState:ge.memoizedState,baseState:ge.baseState,baseQueue:ge.baseQueue,queue:ge.queue,next:null},ve===null?oe.memoizedState=ve=t:ve=ve.next=t}return ve}function ms(t,e){return typeof e=="function"?e(t):e}function Lo(t){var e=it(),r=e.queue;if(r===null)throw Error(k(311));r.lastRenderedReducer=t;var n=ge,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,u=i;do{var c=u.lane;if((Tr&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,o=n):l=l.next=f,oe.lanes|=c,Or|=c}u=u.next}while(u!==null&&u!==i);l===null?o=n:l.next=a,mt(n,e.memoizedState)||(Ue=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,oe.lanes|=i,Or|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Uo(t){var e=it(),r=e.queue;if(r===null)throw Error(k(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);mt(i,e.memoizedState)||(Ue=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function xh(){}function kh(t,e){var r=oe,n=it(),s=e(),i=!mt(n.memoizedState,s);if(i&&(n.memoizedState=s,Ue=!0),n=n.queue,Dl(Ch.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||ve!==null&&ve.memoizedState.tag&1){if(r.flags|=2048,ys(9,jh.bind(null,r,n,s,e),void 0,null),we===null)throw Error(k(349));Tr&30||Eh(r,e,s)}return s}function Eh(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=oe.updateQueue,e===null?(e={lastEffect:null,stores:null},oe.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function jh(t,e,r,n){e.value=r,e.getSnapshot=n,Th(e)&&Oh(t)}function Ch(t,e,r){return r(function(){Th(e)&&Oh(t)})}function Th(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!mt(t,r)}catch{return!0}}function Oh(t){var e=Ut(t,1);e!==null&&gt(e,t,1,-1)}function ic(t){var e=St();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:t},e.queue=t,t=t.dispatch=Fm.bind(null,oe,t),[e.memoizedState,t]}function ys(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=oe.updateQueue,e===null?(e={lastEffect:null,stores:null},oe.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Nh(){return it().memoizedState}function hi(t,e,r,n){var s=St();oe.flags|=t,s.memoizedState=ys(1|e,r,void 0,n===void 0?null:n)}function Zi(t,e,r,n){var s=it();n=n===void 0?null:n;var i=void 0;if(ge!==null){var o=ge.memoizedState;if(i=o.destroy,n!==null&&$l(n,o.deps)){s.memoizedState=ys(e,r,i,n);return}}oe.flags|=t,s.memoizedState=ys(1|e,r,i,n)}function oc(t,e){return hi(8390656,8,t,e)}function Dl(t,e){return Zi(2048,8,t,e)}function Ph(t,e){return Zi(4,2,t,e)}function Rh(t,e){return Zi(4,4,t,e)}function Ah(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ih(t,e,r){return r=r!=null?r.concat([t]):null,Zi(4,4,Ah.bind(null,e,t),r)}function Bl(){}function $h(t,e){var r=it();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&$l(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Lh(t,e){var r=it();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&$l(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Uh(t,e,r){return Tr&21?(mt(r,e)||(r=Fd(),oe.lanes|=r,Or|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ue=!0),t.memoizedState=r)}function zm(t,e){var r=G;G=r!==0&&4>r?r:4,t(!0);var n=$o.transition;$o.transition={};try{t(!1),e()}finally{G=r,$o.transition=n}}function Dh(){return it().memoizedState}function Mm(t,e,r){var n=tr(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Bh(t))zh(e,r);else if(r=_h(t,e,r,n),r!==null){var s=Ne();gt(r,t,n,s),Mh(r,e,n)}}function Fm(t,e,r){var n=tr(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Bh(t))zh(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,mt(a,o)){var l=e.interleaved;l===null?(s.next=s,Nl(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=_h(t,e,s,n),r!==null&&(s=Ne(),gt(r,t,n,s),Mh(r,e,n))}}function Bh(t){var e=t.alternate;return t===oe||e!==null&&e===oe}function zh(t,e){Qn=Ii=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Mh(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ml(t,r)}}var $i={readContext:st,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useInsertionEffect:ke,useLayoutEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useMutableSource:ke,useSyncExternalStore:ke,useId:ke,unstable_isNewReconciler:!1},Vm={readContext:st,useCallback:function(t,e){return St().memoizedState=[t,e===void 0?null:e],t},useContext:st,useEffect:oc,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,hi(4194308,4,Ah.bind(null,e,t),r)},useLayoutEffect:function(t,e){return hi(4194308,4,t,e)},useInsertionEffect:function(t,e){return hi(4,2,t,e)},useMemo:function(t,e){var r=St();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=St();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=Mm.bind(null,oe,t),[n.memoizedState,t]},useRef:function(t){var e=St();return t={current:t},e.memoizedState=t},useState:ic,useDebugValue:Bl,useDeferredValue:function(t){return St().memoizedState=t},useTransition:function(){var t=ic(!1),e=t[0];return t=zm.bind(null,t[1]),St().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=oe,s=St();if(te){if(r===void 0)throw Error(k(407));r=r()}else{if(r=e(),we===null)throw Error(k(349));Tr&30||Eh(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,oc(Ch.bind(null,n,i,t),[t]),n.flags|=2048,ys(9,jh.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=St(),e=we.identifierPrefix;if(te){var r=At,n=Rt;r=(n&~(1<<32-pt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=gs++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Bm++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Wm={readContext:st,useCallback:$h,useContext:st,useEffect:Dl,useImperativeHandle:Ih,useInsertionEffect:Ph,useLayoutEffect:Rh,useMemo:Lh,useReducer:Lo,useRef:Nh,useState:function(){return Lo(ms)},useDebugValue:Bl,useDeferredValue:function(t){var e=it();return Uh(e,ge.memoizedState,t)},useTransition:function(){var t=Lo(ms)[0],e=it().memoizedState;return[t,e]},useMutableSource:xh,useSyncExternalStore:kh,useId:Dh,unstable_isNewReconciler:!1},Hm={readContext:st,useCallback:$h,useContext:st,useEffect:Dl,useImperativeHandle:Ih,useInsertionEffect:Ph,useLayoutEffect:Rh,useMemo:Lh,useReducer:Uo,useRef:Nh,useState:function(){return Uo(ms)},useDebugValue:Bl,useDeferredValue:function(t){var e=it();return ge===null?e.memoizedState=t:Uh(e,ge.memoizedState,t)},useTransition:function(){var t=Uo(ms)[0],e=it().memoizedState;return[t,e]},useMutableSource:xh,useSyncExternalStore:kh,useId:Dh,unstable_isNewReconciler:!1};function ct(t,e){if(t&&t.defaultProps){e=ae({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Oa(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ae({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var eo={isMounted:function(t){return(t=t._reactInternals)?Rr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Ne(),s=tr(t),i=It(n,s);i.payload=e,r!=null&&(i.callback=r),e=Zt(t,i,s),e!==null&&(gt(e,t,s,n),ci(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Ne(),s=tr(t),i=It(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=Zt(t,i,s),e!==null&&(gt(e,t,s,n),ci(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Ne(),n=tr(t),s=It(r,n);s.tag=2,e!=null&&(s.callback=e),e=Zt(t,s,n),e!==null&&(gt(e,t,n,r),ci(e,t,n))}};function ac(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!us(r,n)||!us(s,i):!0}function Fh(t,e,r){var n=!1,s=sr,i=e.contextType;return typeof i=="object"&&i!==null?i=st(i):(s=Be(e)?jr:Ce.current,n=e.contextTypes,i=(n=n!=null)?gn(t,s):sr),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=eo,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function lc(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&eo.enqueueReplaceState(e,e.state,null)}function Na(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},Pl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=st(i):(i=Be(e)?jr:Ce.current,s.context=gn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Oa(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&eo.enqueueReplaceState(s,s.state,null),Ri(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function wn(t,e){try{var r="",n=e;do r+=wg(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Do(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Pa(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Km=typeof WeakMap=="function"?WeakMap:Map;function Vh(t,e,r){r=It(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ui||(Ui=!0,Ma=n),Pa(t,e)},r}function Wh(t,e,r){r=It(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){Pa(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){Pa(t,e),typeof n!="function"&&(er===null?er=new Set([this]):er.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function uc(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Km;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=o0.bind(null,t,e,r),e.then(t,t))}function cc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function dc(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=It(-1,1),e.tag=2,Zt(r,e,1))),r.lanes|=1),t)}var qm=Bt.ReactCurrentOwner,Ue=!1;function Te(t,e,r,n){e.child=t===null?wh(e,null,r,n):yn(e,t.child,r,n)}function hc(t,e,r,n,s){r=r.render;var i=e.ref;return dn(e,s),n=Ll(t,e,r,n,i,s),r=Ul(),t!==null&&!Ue?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Dt(t,e,s)):(te&&r&&kl(e),e.flags|=1,Te(t,e,n,s),e.child)}function fc(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!ql(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Hh(t,e,i,n,s)):(t=mi(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:us,r(o,n)&&t.ref===e.ref)return Dt(t,e,s)}return e.flags|=1,t=rr(i,n),t.ref=e.ref,t.return=e,e.child=t}function Hh(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(us(i,n)&&t.ref===e.ref)if(Ue=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Ue=!0);else return e.lanes=t.lanes,Dt(t,e,s)}return Ra(t,e,r,n,s)}function Kh(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Y(on,We),We|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Y(on,We),We|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,Y(on,We),We|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,Y(on,We),We|=n;return Te(t,e,s,r),e.child}function qh(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Ra(t,e,r,n,s){var i=Be(r)?jr:Ce.current;return i=gn(e,i),dn(e,s),r=Ll(t,e,r,n,i,s),n=Ul(),t!==null&&!Ue?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Dt(t,e,s)):(te&&n&&kl(e),e.flags|=1,Te(t,e,r,s),e.child)}function pc(t,e,r,n,s){if(Be(r)){var i=!0;Ci(e)}else i=!1;if(dn(e,s),e.stateNode===null)fi(t,e),Fh(e,r,n),Na(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=st(u):(u=Be(r)?jr:Ce.current,u=gn(e,u));var c=r.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&lc(e,o,n,u),Vt=!1;var d=e.memoizedState;o.state=d,Ri(e,n,o,s),l=e.memoizedState,a!==n||d!==l||De.current||Vt?(typeof c=="function"&&(Oa(e,r,c,n),l=e.memoizedState),(a=Vt||ac(e,r,a,n,d,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,bh(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ct(e.type,a),o.props=u,f=e.pendingProps,d=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=st(l):(l=Be(r)?jr:Ce.current,l=gn(e,l));var y=r.getDerivedStateFromProps;(c=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||d!==l)&&lc(e,o,n,l),Vt=!1,d=e.memoizedState,o.state=d,Ri(e,n,o,s);var v=e.memoizedState;a!==f||d!==v||De.current||Vt?(typeof y=="function"&&(Oa(e,r,y,n),v=e.memoizedState),(u=Vt||ac(e,r,u,n,d,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),n=!1)}return Aa(t,e,r,n,i,s)}function Aa(t,e,r,n,s,i){qh(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Zu(e,r,!1),Dt(t,e,i);n=e.stateNode,qm.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=yn(e,t.child,null,i),e.child=yn(e,null,a,i)):Te(t,e,a,i),e.memoizedState=n.state,s&&Zu(e,r,!0),e.child}function Gh(t){var e=t.stateNode;e.pendingContext?Xu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Xu(t,e.context,!1),Rl(t,e.containerInfo)}function gc(t,e,r,n,s){return mn(),jl(s),e.flags|=256,Te(t,e,r,n),e.child}var Ia={dehydrated:null,treeContext:null,retryLane:0};function $a(t){return{baseLanes:t,cachePool:null,transitions:null}}function Jh(t,e,r){var n=e.pendingProps,s=ie.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Y(ie,s&1),t===null)return Ca(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=no(o,n,0,null),t=Er(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=$a(r),e.memoizedState=Ia,t):zl(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Gm(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=rr(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=rr(a,i):(i=Er(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?$a(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=Ia,n}return i=t.child,t=i.sibling,n=rr(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function zl(t,e){return e=no({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ks(t,e,r,n){return n!==null&&jl(n),yn(e,t.child,null,r),t=zl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Gm(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Do(Error(k(422))),Ks(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=no({mode:"visible",children:n.children},s,0,null),i=Er(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&yn(e,t.child,null,o),e.child.memoizedState=$a(o),e.memoizedState=Ia,i);if(!(e.mode&1))return Ks(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(k(419)),n=Do(i,n,void 0),Ks(t,e,o,n)}if(a=(o&t.childLanes)!==0,Ue||a){if(n=we,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,Ut(t,s),gt(n,t,s,-1))}return Kl(),n=Do(Error(k(421))),Ks(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=a0.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,qe=Xt(s.nextSibling),Ge=e,te=!0,ft=null,t!==null&&(et[tt++]=Rt,et[tt++]=At,et[tt++]=Cr,Rt=t.id,At=t.overflow,Cr=e),e=zl(e,n.children),e.flags|=4096,e)}function mc(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Ta(t.return,e,r)}function Bo(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Qh(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(Te(t,e,n.children,r),n=ie.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&mc(t,r,e);else if(t.tag===19)mc(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Y(ie,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&Ai(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),Bo(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Ai(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}Bo(e,!0,r,null,i);break;case"together":Bo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function fi(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Dt(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Or|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(k(153));if(e.child!==null){for(t=e.child,r=rr(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=rr(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Jm(t,e,r){switch(e.tag){case 3:Gh(e),mn();break;case 5:Sh(e);break;case 1:Be(e.type)&&Ci(e);break;case 4:Rl(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;Y(Ni,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Y(ie,ie.current&1),e.flags|=128,null):r&e.child.childLanes?Jh(t,e,r):(Y(ie,ie.current&1),t=Dt(t,e,r),t!==null?t.sibling:null);Y(ie,ie.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Qh(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Y(ie,ie.current),n)break;return null;case 22:case 23:return e.lanes=0,Kh(t,e,r)}return Dt(t,e,r)}var Yh,La,Xh,Zh;Yh=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};La=function(){};Xh=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,Sr(Et.current);var i=null;switch(r){case"input":s=sa(t,s),n=sa(t,n),i=[];break;case"select":s=ae({},s,{value:void 0}),n=ae({},n,{value:void 0}),i=[];break;case"textarea":s=aa(t,s),n=aa(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Ei)}ua(r,n);var o;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(rs.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in n){var l=n[u];if(a=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(rs.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Z("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}r&&(i=i||[]).push("style",r);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};Zh=function(t,e,r,n){r!==n&&(e.flags|=4)};function Dn(t,e){if(!te)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ee(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Qm(t,e,r){var n=e.pendingProps;switch(El(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ee(e),null;case 1:return Be(e.type)&&ji(),Ee(e),null;case 3:return n=e.stateNode,vn(),ee(De),ee(Ce),Il(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Ws(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ft!==null&&(Wa(ft),ft=null))),La(t,e),Ee(e),null;case 5:Al(e);var s=Sr(ps.current);if(r=e.type,t!==null&&e.stateNode!=null)Xh(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(k(166));return Ee(e),null}if(t=Sr(Et.current),Ws(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[xt]=e,n[hs]=i,t=(e.mode&1)!==0,r){case"dialog":Z("cancel",n),Z("close",n);break;case"iframe":case"object":case"embed":Z("load",n);break;case"video":case"audio":for(s=0;s<Vn.length;s++)Z(Vn[s],n);break;case"source":Z("error",n);break;case"img":case"image":case"link":Z("error",n),Z("load",n);break;case"details":Z("toggle",n);break;case"input":Eu(n,i),Z("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Z("invalid",n);break;case"textarea":Cu(n,i),Z("invalid",n)}ua(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Vs(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Vs(n.textContent,a,t),s=["children",""+a]):rs.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Z("scroll",n)}switch(r){case"input":$s(n),ju(n,i,!0);break;case"textarea":$s(n),Tu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=Ei)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Cd(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[xt]=e,t[hs]=n,Yh(t,e,!1,!1),e.stateNode=t;e:{switch(o=ca(r,n),r){case"dialog":Z("cancel",t),Z("close",t),s=n;break;case"iframe":case"object":case"embed":Z("load",t),s=n;break;case"video":case"audio":for(s=0;s<Vn.length;s++)Z(Vn[s],t);s=n;break;case"source":Z("error",t),s=n;break;case"img":case"image":case"link":Z("error",t),Z("load",t),s=n;break;case"details":Z("toggle",t),s=n;break;case"input":Eu(t,n),s=sa(t,n),Z("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=ae({},n,{value:void 0}),Z("invalid",t);break;case"textarea":Cu(t,n),s=aa(t,n),Z("invalid",t);break;default:s=n}ua(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Nd(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Td(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&ns(t,l):typeof l=="number"&&ns(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(rs.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Z("scroll",t):l!=null&&cl(t,i,l,o))}switch(r){case"input":$s(t),ju(t,n,!1);break;case"textarea":$s(t),Tu(t);break;case"option":n.value!=null&&t.setAttribute("value",""+nr(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?an(t,!!n.multiple,i,!1):n.defaultValue!=null&&an(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Ei)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ee(e),null;case 6:if(t&&e.stateNode!=null)Zh(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(k(166));if(r=Sr(ps.current),Sr(Et.current),Ws(e)){if(n=e.stateNode,r=e.memoizedProps,n[xt]=e,(i=n.nodeValue!==r)&&(t=Ge,t!==null))switch(t.tag){case 3:Vs(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vs(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[xt]=e,e.stateNode=n}return Ee(e),null;case 13:if(ee(ie),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(te&&qe!==null&&e.mode&1&&!(e.flags&128))yh(),mn(),e.flags|=98560,i=!1;else if(i=Ws(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(k(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(k(317));i[xt]=e}else mn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ee(e),i=!1}else ft!==null&&(Wa(ft),ft=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ie.current&1?me===0&&(me=3):Kl())),e.updateQueue!==null&&(e.flags|=4),Ee(e),null);case 4:return vn(),La(t,e),t===null&&cs(e.stateNode.containerInfo),Ee(e),null;case 10:return Ol(e.type._context),Ee(e),null;case 17:return Be(e.type)&&ji(),Ee(e),null;case 19:if(ee(ie),i=e.memoizedState,i===null)return Ee(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)Dn(i,!1);else{if(me!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Ai(t),o!==null){for(e.flags|=128,Dn(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Y(ie,ie.current&1|2),e.child}t=t.sibling}i.tail!==null&&de()>_n&&(e.flags|=128,n=!0,Dn(i,!1),e.lanes=4194304)}else{if(!n)if(t=Ai(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Dn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!te)return Ee(e),null}else 2*de()-i.renderingStartTime>_n&&r!==1073741824&&(e.flags|=128,n=!0,Dn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=de(),e.sibling=null,r=ie.current,Y(ie,n?r&1|2:r&1),e):(Ee(e),null);case 22:case 23:return Hl(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?We&1073741824&&(Ee(e),e.subtreeFlags&6&&(e.flags|=8192)):Ee(e),null;case 24:return null;case 25:return null}throw Error(k(156,e.tag))}function Ym(t,e){switch(El(e),e.tag){case 1:return Be(e.type)&&ji(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return vn(),ee(De),ee(Ce),Il(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Al(e),null;case 13:if(ee(ie),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(k(340));mn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ee(ie),null;case 4:return vn(),null;case 10:return Ol(e.type._context),null;case 22:case 23:return Hl(),null;case 24:return null;default:return null}}var qs=!1,je=!1,Xm=typeof WeakSet=="function"?WeakSet:Set,P=null;function sn(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){le(t,e,n)}else r.current=null}function Ua(t,e,r){try{r()}catch(n){le(t,e,n)}}var yc=!1;function Zm(t,e){if(_a=Si,t=sh(),xl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var y;f!==r||s!==0&&f.nodeType!==3||(a=o+s),f!==i||n!==0&&f.nodeType!==3||(l=o+n),f.nodeType===3&&(o+=f.nodeValue.length),(y=f.firstChild)!==null;)d=f,f=y;for(;;){if(f===t)break t;if(d===r&&++u===s&&(a=o),d===i&&++c===n&&(l=o),(y=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=y}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ba={focusedElem:t,selectionRange:r},Si=!1,P=e;P!==null;)if(e=P,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,P=t;else for(;P!==null;){e=P;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,b=v.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?w:ct(e.type,w),b);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(k(163))}}catch(_){le(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,P=t;break}P=e.return}return v=yc,yc=!1,v}function Yn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Ua(e,r,i)}s=s.next}while(s!==n)}}function to(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Da(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function ef(t){var e=t.alternate;e!==null&&(t.alternate=null,ef(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xt],delete e[hs],delete e[ka],delete e[$m],delete e[Lm])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tf(t){return t.tag===5||t.tag===3||t.tag===4}function vc(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ba(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Ei));else if(n!==4&&(t=t.child,t!==null))for(Ba(t,e,r),t=t.sibling;t!==null;)Ba(t,e,r),t=t.sibling}function za(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(za(t,e,r),t=t.sibling;t!==null;)za(t,e,r),t=t.sibling}var be=null,ht=!1;function zt(t,e,r){for(r=r.child;r!==null;)rf(t,e,r),r=r.sibling}function rf(t,e,r){if(kt&&typeof kt.onCommitFiberUnmount=="function")try{kt.onCommitFiberUnmount(qi,r)}catch{}switch(r.tag){case 5:je||sn(r,e);case 6:var n=be,s=ht;be=null,zt(t,e,r),be=n,ht=s,be!==null&&(ht?(t=be,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):be.removeChild(r.stateNode));break;case 18:be!==null&&(ht?(t=be,r=r.stateNode,t.nodeType===8?Ro(t.parentNode,r):t.nodeType===1&&Ro(t,r),as(t)):Ro(be,r.stateNode));break;case 4:n=be,s=ht,be=r.stateNode.containerInfo,ht=!0,zt(t,e,r),be=n,ht=s;break;case 0:case 11:case 14:case 15:if(!je&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Ua(r,e,o),s=s.next}while(s!==n)}zt(t,e,r);break;case 1:if(!je&&(sn(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){le(r,e,a)}zt(t,e,r);break;case 21:zt(t,e,r);break;case 22:r.mode&1?(je=(n=je)||r.memoizedState!==null,zt(t,e,r),je=n):zt(t,e,r);break;default:zt(t,e,r)}}function wc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Xm),e.forEach(function(n){var s=l0.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function at(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:be=a.stateNode,ht=!1;break e;case 3:be=a.stateNode.containerInfo,ht=!0;break e;case 4:be=a.stateNode.containerInfo,ht=!0;break e}a=a.return}if(be===null)throw Error(k(160));rf(i,o,s),be=null,ht=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){le(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)nf(e,t),e=e.sibling}function nf(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(at(e,t),bt(t),n&4){try{Yn(3,t,t.return),to(3,t)}catch(w){le(t,t.return,w)}try{Yn(5,t,t.return)}catch(w){le(t,t.return,w)}}break;case 1:at(e,t),bt(t),n&512&&r!==null&&sn(r,r.return);break;case 5:if(at(e,t),bt(t),n&512&&r!==null&&sn(r,r.return),t.flags&32){var s=t.stateNode;try{ns(s,"")}catch(w){le(t,t.return,w)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Ed(s,i),ca(a,o);var u=ca(a,i);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?Nd(s,f):c==="dangerouslySetInnerHTML"?Td(s,f):c==="children"?ns(s,f):cl(s,c,f,u)}switch(a){case"input":ia(s,i);break;case"textarea":jd(s,i);break;case"select":var d=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?an(s,!!i.multiple,y,!1):d!==!!i.multiple&&(i.defaultValue!=null?an(s,!!i.multiple,i.defaultValue,!0):an(s,!!i.multiple,i.multiple?[]:"",!1))}s[hs]=i}catch(w){le(t,t.return,w)}}break;case 6:if(at(e,t),bt(t),n&4){if(t.stateNode===null)throw Error(k(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){le(t,t.return,w)}}break;case 3:if(at(e,t),bt(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{as(e.containerInfo)}catch(w){le(t,t.return,w)}break;case 4:at(e,t),bt(t);break;case 13:at(e,t),bt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Vl=de())),n&4&&wc(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(je=(u=je)||c,at(e,t),je=u):at(e,t),bt(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(P=t,c=t.child;c!==null;){for(f=P=c;P!==null;){switch(d=P,y=d.child,d.tag){case 0:case 11:case 14:case 15:Yn(4,d,d.return);break;case 1:sn(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){n=d,r=d.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){le(n,r,w)}}break;case 5:sn(d,d.return);break;case 22:if(d.memoizedState!==null){bc(f);continue}}y!==null?(y.return=d,P=y):bc(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{s=f.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Od("display",o))}catch(w){le(t,t.return,w)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(w){le(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:at(e,t),bt(t),n&4&&wc(t);break;case 21:break;default:at(e,t),bt(t)}}function bt(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(tf(r)){var n=r;break e}r=r.return}throw Error(k(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(ns(s,""),n.flags&=-33);var i=vc(t);za(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=vc(t);Ba(t,a,o);break;default:throw Error(k(161))}}catch(l){le(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function e0(t,e,r){P=t,sf(t)}function sf(t,e,r){for(var n=(t.mode&1)!==0;P!==null;){var s=P,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||qs;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||je;a=qs;var u=je;if(qs=o,(je=l)&&!u)for(P=s;P!==null;)o=P,l=o.child,o.tag===22&&o.memoizedState!==null?Sc(s):l!==null?(l.return=o,P=l):Sc(s);for(;i!==null;)P=i,sf(i),i=i.sibling;P=s,qs=a,je=u}_c(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,P=i):_c(t)}}function _c(t){for(;P!==null;){var e=P;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:je||to(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!je)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:ct(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&sc(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}sc(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&as(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(k(163))}je||e.flags&512&&Da(e)}catch(d){le(e,e.return,d)}}if(e===t){P=null;break}if(r=e.sibling,r!==null){r.return=e.return,P=r;break}P=e.return}}function bc(t){for(;P!==null;){var e=P;if(e===t){P=null;break}var r=e.sibling;if(r!==null){r.return=e.return,P=r;break}P=e.return}}function Sc(t){for(;P!==null;){var e=P;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{to(4,e)}catch(l){le(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){le(e,s,l)}}var i=e.return;try{Da(e)}catch(l){le(e,i,l)}break;case 5:var o=e.return;try{Da(e)}catch(l){le(e,o,l)}}}catch(l){le(e,e.return,l)}if(e===t){P=null;break}var a=e.sibling;if(a!==null){a.return=e.return,P=a;break}P=e.return}}var t0=Math.ceil,Li=Bt.ReactCurrentDispatcher,Ml=Bt.ReactCurrentOwner,nt=Bt.ReactCurrentBatchConfig,K=0,we=null,fe=null,Se=0,We=0,on=or(0),me=0,vs=null,Or=0,ro=0,Fl=0,Xn=null,Le=null,Vl=0,_n=1/0,Ot=null,Ui=!1,Ma=null,er=null,Gs=!1,Gt=null,Di=0,Zn=0,Fa=null,pi=-1,gi=0;function Ne(){return K&6?de():pi!==-1?pi:pi=de()}function tr(t){return t.mode&1?K&2&&Se!==0?Se&-Se:Dm.transition!==null?(gi===0&&(gi=Fd()),gi):(t=G,t!==0||(t=window.event,t=t===void 0?16:Jd(t.type)),t):1}function gt(t,e,r,n){if(50<Zn)throw Zn=0,Fa=null,Error(k(185));xs(t,r,n),(!(K&2)||t!==we)&&(t===we&&(!(K&2)&&(ro|=r),me===4&&Ht(t,Se)),ze(t,n),r===1&&K===0&&!(e.mode&1)&&(_n=de()+500,Xi&&ar()))}function ze(t,e){var r=t.callbackNode;Dg(t,e);var n=bi(t,t===we?Se:0);if(n===0)r!==null&&Pu(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Pu(r),e===1)t.tag===0?Um(xc.bind(null,t)):ph(xc.bind(null,t)),Am(function(){!(K&6)&&ar()}),r=null;else{switch(Vd(n)){case 1:r=gl;break;case 4:r=zd;break;case 16:r=_i;break;case 536870912:r=Md;break;default:r=_i}r=ff(r,of.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function of(t,e){if(pi=-1,gi=0,K&6)throw Error(k(327));var r=t.callbackNode;if(hn()&&t.callbackNode!==r)return null;var n=bi(t,t===we?Se:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Bi(t,n);else{e=n;var s=K;K|=2;var i=lf();(we!==t||Se!==e)&&(Ot=null,_n=de()+500,kr(t,e));do try{s0();break}catch(a){af(t,a)}while(1);Tl(),Li.current=i,K=s,fe!==null?e=0:(we=null,Se=0,e=me)}if(e!==0){if(e===2&&(s=ga(t),s!==0&&(n=s,e=Va(t,s))),e===1)throw r=vs,kr(t,0),Ht(t,n),ze(t,de()),r;if(e===6)Ht(t,n);else{if(s=t.current.alternate,!(n&30)&&!r0(s)&&(e=Bi(t,n),e===2&&(i=ga(t),i!==0&&(n=i,e=Va(t,i))),e===1))throw r=vs,kr(t,0),Ht(t,n),ze(t,de()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(k(345));case 2:gr(t,Le,Ot);break;case 3:if(Ht(t,n),(n&130023424)===n&&(e=Vl+500-de(),10<e)){if(bi(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){Ne(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=xa(gr.bind(null,t,Le,Ot),e);break}gr(t,Le,Ot);break;case 4:if(Ht(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-pt(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=de()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*t0(n/1960))-n,10<n){t.timeoutHandle=xa(gr.bind(null,t,Le,Ot),n);break}gr(t,Le,Ot);break;case 5:gr(t,Le,Ot);break;default:throw Error(k(329))}}}return ze(t,de()),t.callbackNode===r?of.bind(null,t):null}function Va(t,e){var r=Xn;return t.current.memoizedState.isDehydrated&&(kr(t,e).flags|=256),t=Bi(t,e),t!==2&&(e=Le,Le=r,e!==null&&Wa(e)),t}function Wa(t){Le===null?Le=t:Le.push.apply(Le,t)}function r0(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!mt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ht(t,e){for(e&=~Fl,e&=~ro,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-pt(e),n=1<<r;t[r]=-1,e&=~n}}function xc(t){if(K&6)throw Error(k(327));hn();var e=bi(t,0);if(!(e&1))return ze(t,de()),null;var r=Bi(t,e);if(t.tag!==0&&r===2){var n=ga(t);n!==0&&(e=n,r=Va(t,n))}if(r===1)throw r=vs,kr(t,0),Ht(t,e),ze(t,de()),r;if(r===6)throw Error(k(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,gr(t,Le,Ot),ze(t,de()),null}function Wl(t,e){var r=K;K|=1;try{return t(e)}finally{K=r,K===0&&(_n=de()+500,Xi&&ar())}}function Nr(t){Gt!==null&&Gt.tag===0&&!(K&6)&&hn();var e=K;K|=1;var r=nt.transition,n=G;try{if(nt.transition=null,G=1,t)return t()}finally{G=n,nt.transition=r,K=e,!(K&6)&&ar()}}function Hl(){We=on.current,ee(on)}function kr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,Rm(r)),fe!==null)for(r=fe.return;r!==null;){var n=r;switch(El(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ji();break;case 3:vn(),ee(De),ee(Ce),Il();break;case 5:Al(n);break;case 4:vn();break;case 13:ee(ie);break;case 19:ee(ie);break;case 10:Ol(n.type._context);break;case 22:case 23:Hl()}r=r.return}if(we=t,fe=t=rr(t.current,null),Se=We=e,me=0,vs=null,Fl=ro=Or=0,Le=Xn=null,br!==null){for(e=0;e<br.length;e++)if(r=br[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}br=null}return t}function af(t,e){do{var r=fe;try{if(Tl(),di.current=$i,Ii){for(var n=oe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ii=!1}if(Tr=0,ve=ge=oe=null,Qn=!1,gs=0,Ml.current=null,r===null||r.return===null){me=1,vs=e,fe=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=Se,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var y=cc(o);if(y!==null){y.flags&=-257,dc(y,o,a,i,e),y.mode&1&&uc(i,u,e),e=y,l=u;var v=e.updateQueue;if(v===null){var w=new Set;w.add(l),e.updateQueue=w}else v.add(l);break e}else{if(!(e&1)){uc(i,u,e),Kl();break e}l=Error(k(426))}}else if(te&&a.mode&1){var b=cc(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),dc(b,o,a,i,e),jl(wn(l,a));break e}}i=l=wn(l,a),me!==4&&(me=2),Xn===null?Xn=[i]:Xn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=Vh(i,l,e);nc(i,m);break e;case 1:a=l;var p=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(er===null||!er.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=Wh(i,a,e);nc(i,_);break e}}i=i.return}while(i!==null)}cf(r)}catch(j){e=j,fe===r&&r!==null&&(fe=r=r.return);continue}break}while(1)}function lf(){var t=Li.current;return Li.current=$i,t===null?$i:t}function Kl(){(me===0||me===3||me===2)&&(me=4),we===null||!(Or&268435455)&&!(ro&268435455)||Ht(we,Se)}function Bi(t,e){var r=K;K|=2;var n=lf();(we!==t||Se!==e)&&(Ot=null,kr(t,e));do try{n0();break}catch(s){af(t,s)}while(1);if(Tl(),K=r,Li.current=n,fe!==null)throw Error(k(261));return we=null,Se=0,me}function n0(){for(;fe!==null;)uf(fe)}function s0(){for(;fe!==null&&!Og();)uf(fe)}function uf(t){var e=hf(t.alternate,t,We);t.memoizedProps=t.pendingProps,e===null?cf(t):fe=e,Ml.current=null}function cf(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Ym(r,e),r!==null){r.flags&=32767,fe=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{me=6,fe=null;return}}else if(r=Qm(r,e,We),r!==null){fe=r;return}if(e=e.sibling,e!==null){fe=e;return}fe=e=t}while(e!==null);me===0&&(me=5)}function gr(t,e,r){var n=G,s=nt.transition;try{nt.transition=null,G=1,i0(t,e,r,n)}finally{nt.transition=s,G=n}return null}function i0(t,e,r,n){do hn();while(Gt!==null);if(K&6)throw Error(k(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(k(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Bg(t,i),t===we&&(fe=we=null,Se=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Gs||(Gs=!0,ff(_i,function(){return hn(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=nt.transition,nt.transition=null;var o=G;G=1;var a=K;K|=4,Ml.current=null,Zm(t,r),nf(r,t),Em(ba),Si=!!_a,ba=_a=null,t.current=r,e0(r),Ng(),K=a,G=o,nt.transition=i}else t.current=r;if(Gs&&(Gs=!1,Gt=t,Di=s),i=t.pendingLanes,i===0&&(er=null),Ag(r.stateNode),ze(t,de()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Ui)throw Ui=!1,t=Ma,Ma=null,t;return Di&1&&t.tag!==0&&hn(),i=t.pendingLanes,i&1?t===Fa?Zn++:(Zn=0,Fa=t):Zn=0,ar(),null}function hn(){if(Gt!==null){var t=Vd(Di),e=nt.transition,r=G;try{if(nt.transition=null,G=16>t?16:t,Gt===null)var n=!1;else{if(t=Gt,Gt=null,Di=0,K&6)throw Error(k(331));var s=K;for(K|=4,P=t.current;P!==null;){var i=P,o=i.child;if(P.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(P=u;P!==null;){var c=P;switch(c.tag){case 0:case 11:case 15:Yn(8,c,i)}var f=c.child;if(f!==null)f.return=c,P=f;else for(;P!==null;){c=P;var d=c.sibling,y=c.return;if(ef(c),c===u){P=null;break}if(d!==null){d.return=y,P=d;break}P=y}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}P=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,P=o;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Yn(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,P=m;break e}P=i.return}}var p=t.current;for(P=p;P!==null;){o=P;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,P=g;else e:for(o=p;P!==null;){if(a=P,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:to(9,a)}}catch(j){le(a,a.return,j)}if(a===o){P=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,P=_;break e}P=a.return}}if(K=s,ar(),kt&&typeof kt.onPostCommitFiberRoot=="function")try{kt.onPostCommitFiberRoot(qi,t)}catch{}n=!0}return n}finally{G=r,nt.transition=e}}return!1}function kc(t,e,r){e=wn(r,e),e=Vh(t,e,1),t=Zt(t,e,1),e=Ne(),t!==null&&(xs(t,1,e),ze(t,e))}function le(t,e,r){if(t.tag===3)kc(t,t,r);else for(;e!==null;){if(e.tag===3){kc(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(er===null||!er.has(n))){t=wn(r,t),t=Wh(e,t,1),e=Zt(e,t,1),t=Ne(),e!==null&&(xs(e,1,t),ze(e,t));break}}e=e.return}}function o0(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Ne(),t.pingedLanes|=t.suspendedLanes&r,we===t&&(Se&r)===r&&(me===4||me===3&&(Se&130023424)===Se&&500>de()-Vl?kr(t,0):Fl|=r),ze(t,e)}function df(t,e){e===0&&(t.mode&1?(e=Ds,Ds<<=1,!(Ds&130023424)&&(Ds=4194304)):e=1);var r=Ne();t=Ut(t,e),t!==null&&(xs(t,e,r),ze(t,r))}function a0(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),df(t,r)}function l0(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(k(314))}n!==null&&n.delete(e),df(t,r)}var hf;hf=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||De.current)Ue=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ue=!1,Jm(t,e,r);Ue=!!(t.flags&131072)}else Ue=!1,te&&e.flags&1048576&&gh(e,Oi,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;fi(t,e),t=e.pendingProps;var s=gn(e,Ce.current);dn(e,r),s=Ll(null,e,n,t,s,r);var i=Ul();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Be(n)?(i=!0,Ci(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Pl(e),s.updater=eo,e.stateNode=s,s._reactInternals=e,Na(e,n,t,r),e=Aa(null,e,n,!0,i,r)):(e.tag=0,te&&i&&kl(e),Te(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(fi(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=c0(n),t=ct(n,t),s){case 0:e=Ra(null,e,n,t,r);break e;case 1:e=pc(null,e,n,t,r);break e;case 11:e=hc(null,e,n,t,r);break e;case 14:e=fc(null,e,n,ct(n.type,t),r);break e}throw Error(k(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ct(n,s),Ra(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ct(n,s),pc(t,e,n,s,r);case 3:e:{if(Gh(e),t===null)throw Error(k(387));n=e.pendingProps,i=e.memoizedState,s=i.element,bh(t,e),Ri(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=wn(Error(k(423)),e),e=gc(t,e,n,r,s);break e}else if(n!==s){s=wn(Error(k(424)),e),e=gc(t,e,n,r,s);break e}else for(qe=Xt(e.stateNode.containerInfo.firstChild),Ge=e,te=!0,ft=null,r=wh(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(mn(),n===s){e=Dt(t,e,r);break e}Te(t,e,n,r)}e=e.child}return e;case 5:return Sh(e),t===null&&Ca(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Sa(n,s)?o=null:i!==null&&Sa(n,i)&&(e.flags|=32),qh(t,e),Te(t,e,o,r),e.child;case 6:return t===null&&Ca(e),null;case 13:return Jh(t,e,r);case 4:return Rl(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=yn(e,null,n,r):Te(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ct(n,s),hc(t,e,n,s,r);case 7:return Te(t,e,e.pendingProps,r),e.child;case 8:return Te(t,e,e.pendingProps.children,r),e.child;case 12:return Te(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Y(Ni,n._currentValue),n._currentValue=o,i!==null)if(mt(i.value,o)){if(i.children===s.children&&!De.current){e=Dt(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=It(-1,r&-r),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Ta(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(k(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),Ta(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Te(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,dn(e,r),s=st(s),n=n(s),e.flags|=1,Te(t,e,n,r),e.child;case 14:return n=e.type,s=ct(n,e.pendingProps),s=ct(n.type,s),fc(t,e,n,s,r);case 15:return Hh(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:ct(n,s),fi(t,e),e.tag=1,Be(n)?(t=!0,Ci(e)):t=!1,dn(e,r),Fh(e,n,s),Na(e,n,s,r),Aa(null,e,n,!0,t,r);case 19:return Qh(t,e,r);case 22:return Kh(t,e,r)}throw Error(k(156,e.tag))};function ff(t,e){return Bd(t,e)}function u0(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rt(t,e,r,n){return new u0(t,e,r,n)}function ql(t){return t=t.prototype,!(!t||!t.isReactComponent)}function c0(t){if(typeof t=="function")return ql(t)?1:0;if(t!=null){if(t=t.$$typeof,t===hl)return 11;if(t===fl)return 14}return 2}function rr(t,e){var r=t.alternate;return r===null?(r=rt(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function mi(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")ql(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Jr:return Er(r.children,s,i,e);case dl:o=8,s|=8;break;case ea:return t=rt(12,r,e,s|2),t.elementType=ea,t.lanes=i,t;case ta:return t=rt(13,r,e,s),t.elementType=ta,t.lanes=i,t;case ra:return t=rt(19,r,e,s),t.elementType=ra,t.lanes=i,t;case Sd:return no(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case _d:o=10;break e;case bd:o=9;break e;case hl:o=11;break e;case fl:o=14;break e;case Ft:o=16,n=null;break e}throw Error(k(130,t==null?t:typeof t,""))}return e=rt(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function Er(t,e,r,n){return t=rt(7,t,n,e),t.lanes=r,t}function no(t,e,r,n){return t=rt(22,t,n,e),t.elementType=Sd,t.lanes=r,t.stateNode={isHidden:!1},t}function zo(t,e,r){return t=rt(6,t,null,e),t.lanes=r,t}function Mo(t,e,r){return e=rt(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function d0(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bo(0),this.expirationTimes=bo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Gl(t,e,r,n,s,i,o,a,l){return t=new d0(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=rt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pl(i),t}function h0(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function pf(t){if(!t)return sr;t=t._reactInternals;e:{if(Rr(t)!==t||t.tag!==1)throw Error(k(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Be(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(k(171))}if(t.tag===1){var r=t.type;if(Be(r))return fh(t,r,e)}return e}function gf(t,e,r,n,s,i,o,a,l){return t=Gl(r,n,!0,t,s,i,o,a,l),t.context=pf(null),r=t.current,n=Ne(),s=tr(r),i=It(n,s),i.callback=e??null,Zt(r,i,s),t.current.lanes=s,xs(t,s,n),ze(t,n),t}function so(t,e,r,n){var s=e.current,i=Ne(),o=tr(s);return r=pf(r),e.context===null?e.context=r:e.pendingContext=r,e=It(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Zt(s,e,o),t!==null&&(gt(t,s,o,i),ci(t,s,o)),o}function zi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ec(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Jl(t,e){Ec(t,e),(t=t.alternate)&&Ec(t,e)}function f0(){return null}var mf=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ql(t){this._internalRoot=t}io.prototype.render=Ql.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(k(409));so(t,e,null,null)};io.prototype.unmount=Ql.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Nr(function(){so(null,t,null,null)}),e[Lt]=null}};function io(t){this._internalRoot=t}io.prototype.unstable_scheduleHydration=function(t){if(t){var e=Kd();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Wt.length&&e!==0&&e<Wt[r].priority;r++);Wt.splice(r,0,t),r===0&&Gd(t)}};function Yl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function oo(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function jc(){}function p0(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var u=zi(o);i.call(u)}}var o=gf(e,n,t,0,null,!1,!1,"",jc);return t._reactRootContainer=o,t[Lt]=o.current,cs(t.nodeType===8?t.parentNode:t),Nr(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var u=zi(l);a.call(u)}}var l=Gl(t,0,!1,null,null,!1,!1,"",jc);return t._reactRootContainer=l,t[Lt]=l.current,cs(t.nodeType===8?t.parentNode:t),Nr(function(){so(e,l,r,n)}),l}function ao(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=zi(o);a.call(l)}}so(e,o,t,s)}else o=p0(r,e,t,s,n);return zi(o)}Wd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Fn(e.pendingLanes);r!==0&&(ml(e,r|1),ze(e,de()),!(K&6)&&(_n=de()+500,ar()))}break;case 13:Nr(function(){var n=Ut(t,1);if(n!==null){var s=Ne();gt(n,t,1,s)}}),Jl(t,1)}};yl=function(t){if(t.tag===13){var e=Ut(t,134217728);if(e!==null){var r=Ne();gt(e,t,134217728,r)}Jl(t,134217728)}};Hd=function(t){if(t.tag===13){var e=tr(t),r=Ut(t,e);if(r!==null){var n=Ne();gt(r,t,e,n)}Jl(t,e)}};Kd=function(){return G};qd=function(t,e){var r=G;try{return G=t,e()}finally{G=r}};ha=function(t,e,r){switch(e){case"input":if(ia(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Yi(n);if(!s)throw Error(k(90));kd(n),ia(n,s)}}}break;case"textarea":jd(t,r);break;case"select":e=r.value,e!=null&&an(t,!!r.multiple,e,!1)}};Ad=Wl;Id=Nr;var g0={usingClientEntryPoint:!1,Events:[Es,Zr,Yi,Pd,Rd,Wl]},Bn={findFiberByHostInstance:_r,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},m0={bundleType:Bn.bundleType,version:Bn.version,rendererPackageName:Bn.rendererPackageName,rendererConfig:Bn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Bt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ud(t),t===null?null:t.stateNode},findFiberByHostInstance:Bn.findFiberByHostInstance||f0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Js=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Js.isDisabled&&Js.supportsFiber)try{qi=Js.inject(m0),kt=Js}catch{}}Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=g0;Qe.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Yl(e))throw Error(k(200));return h0(t,e,null,r)};Qe.createRoot=function(t,e){if(!Yl(t))throw Error(k(299));var r=!1,n="",s=mf;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Gl(t,1,!1,null,null,r,!1,n,s),t[Lt]=e.current,cs(t.nodeType===8?t.parentNode:t),new Ql(e)};Qe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(k(188)):(t=Object.keys(t).join(","),Error(k(268,t)));return t=Ud(e),t=t===null?null:t.stateNode,t};Qe.flushSync=function(t){return Nr(t)};Qe.hydrate=function(t,e,r){if(!oo(e))throw Error(k(200));return ao(null,t,e,!0,r)};Qe.hydrateRoot=function(t,e,r){if(!Yl(t))throw Error(k(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=mf;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=gf(e,null,t,1,r??null,s,!1,i,o),t[Lt]=e.current,cs(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new io(e)};Qe.render=function(t,e,r){if(!oo(e))throw Error(k(200));return ao(null,t,e,!1,r)};Qe.unmountComponentAtNode=function(t){if(!oo(t))throw Error(k(40));return t._reactRootContainer?(Nr(function(){ao(null,null,t,!1,function(){t._reactRootContainer=null,t[Lt]=null})}),!0):!1};Qe.unstable_batchedUpdates=Wl;Qe.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!oo(r))throw Error(k(200));if(t==null||t._reactInternals===void 0)throw Error(k(38));return ao(t,e,r,!1,n)};Qe.version="18.3.1-next-f1338f8080-20240426";function yf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(yf)}catch(t){console.error(t)}}yf(),md.exports=Qe;var y0=md.exports,Cc=y0;Xo.createRoot=Cc.createRoot,Xo.hydrateRoot=Cc.hydrateRoot;/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var v0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),jt=(t,e)=>{const r=z.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...u},c)=>z.createElement("svg",{ref:c,...v0,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${w0(t)}`,a].join(" "),...u},[...e.map(([f,d])=>z.createElement(f,d)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _0=jt("ArchiveRestore",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h2",key:"tvwodi"}],["path",{d:"M20 8v11a2 2 0 0 1-2 2h-2",key:"1gkqxj"}],["path",{d:"m9 15 3-3 3 3",key:"1pd0qc"}],["path",{d:"M12 12v9",key:"192myk"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b0=jt("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=jt("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fo=jt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oc=jt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S0=jt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=jt("Library",[["path",{d:"m16 6 4 14",key:"ji33uf"}],["path",{d:"M12 6v14",key:"1n7gus"}],["path",{d:"M8 8v12",key:"1gg7y9"}],["path",{d:"M4 4v16",key:"6qkkli"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=jt("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x0=jt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k0=jt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var Ha=function(t,e){return Ha=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},Ha(t,e)};function vf(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Ha(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Mi=function(){return Mi=Object.assign||function(e){for(var r,n=1,s=arguments.length;n<s;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Mi.apply(this,arguments)};function En(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r}function wf(t,e,r,n){var s=arguments.length,i=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(i=(s<3?o(i):s>3?o(e,r,i):o(e,r))||i);return s>3&&i&&Object.defineProperty(e,r,i),i}function _f(t,e){return function(r,n){e(r,n,t)}}function bf(t,e,r,n,s,i){function o(m){if(m!==void 0&&typeof m!="function")throw new TypeError("Function expected");return m}for(var a=n.kind,l=a==="getter"?"get":a==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,c=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,d=!1,y=r.length-1;y>=0;y--){var v={};for(var w in n)v[w]=w==="access"?{}:n[w];for(var w in n.access)v.access[w]=n.access[w];v.addInitializer=function(m){if(d)throw new TypeError("Cannot add initializers after decoration has completed");i.push(o(m||null))};var b=(0,r[y])(a==="accessor"?{get:c.get,set:c.set}:c[l],v);if(a==="accessor"){if(b===void 0)continue;if(b===null||typeof b!="object")throw new TypeError("Object expected");(f=o(b.get))&&(c.get=f),(f=o(b.set))&&(c.set=f),(f=o(b.init))&&s.unshift(f)}else(f=o(b))&&(a==="field"?s.unshift(f):c[l]=f)}u&&Object.defineProperty(u,n.name,c),d=!0}function Sf(t,e,r){for(var n=arguments.length>2,s=0;s<e.length;s++)r=n?e[s].call(t,r):e[s].call(t);return n?r:void 0}function xf(t){return typeof t=="symbol"?t:"".concat(t)}function kf(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Ef(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function A(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(c){try{u(n.next(c))}catch(f){o(f)}}function l(c){try{u(n.throw(c))}catch(f){o(f)}}function u(c){c.done?i(c.value):s(c.value).then(a,l)}u((n=n.apply(t,e||[])).next())})}function jf(t,e){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,s,i,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(c){return l([u,c])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,u[0]&&(r=0)),r;)try{if(n=1,s&&(i=u[0]&2?s.return:u[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,u[1])).done)return i;switch(s=0,i&&(u=[u[0]&2,i.value]),u[0]){case 0:case 1:i=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,s=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!i||u[1]>i[0]&&u[1]<i[3])){r.label=u[1];break}if(u[0]===6&&r.label<i[1]){r.label=i[1],i=u;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(u);break}i[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(c){u=[6,c],s=0}finally{n=i=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var lo=Object.create?function(t,e,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(e,r);(!s||("get"in s?!e.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,s)}:function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]};function Cf(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&lo(e,t,r)}function Fi(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Xl(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),s,i=[],o;try{for(;(e===void 0||e-- >0)&&!(s=n.next()).done;)i.push(s.value)}catch(a){o={error:a}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return i}function Tf(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Xl(arguments[e]));return t}function Of(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),s=0,e=0;e<r;e++)for(var i=arguments[e],o=0,a=i.length;o<a;o++,s++)n[s]=i[o];return n}function Nf(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}function bn(t){return this instanceof bn?(this.v=t,this):new bn(t)}function Pf(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),s,i=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),s[Symbol.asyncIterator]=function(){return this},s;function o(y){return function(v){return Promise.resolve(v).then(y,f)}}function a(y,v){n[y]&&(s[y]=function(w){return new Promise(function(b,m){i.push([y,w,b,m])>1||l(y,w)})},v&&(s[y]=v(s[y])))}function l(y,v){try{u(n[y](v))}catch(w){d(i[0][3],w)}}function u(y){y.value instanceof bn?Promise.resolve(y.value.v).then(c,f):d(i[0][2],y)}function c(y){l("next",y)}function f(y){l("throw",y)}function d(y,v){y(v),i.shift(),i.length&&l(i[0][0],i[0][1])}}function Rf(t){var e,r;return e={},n("next"),n("throw",function(s){throw s}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(s,i){e[s]=t[s]?function(o){return(r=!r)?{value:bn(t[s](o)),done:!1}:i?i(o):o}:i}}function Af(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof Fi=="function"?Fi(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=t[i]&&function(o){return new Promise(function(a,l){o=t[i](o),s(a,l,o.done,o.value)})}}function s(i,o,a,l){Promise.resolve(l).then(function(u){i({value:u,done:a})},o)}}function If(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var E0=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},Ka=function(t){return Ka=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},Ka(t)};function $f(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=Ka(t),n=0;n<r.length;n++)r[n]!=="default"&&lo(e,t,r[n]);return E0(e,t),e}function Lf(t){return t&&t.__esModule?t:{default:t}}function Uf(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function Df(t,e,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!s:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(t,r):s?s.value=r:e.set(t,r),r}function Bf(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function zf(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,s;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(s=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");s&&(n=function(){try{s.call(this)}catch(i){return Promise.reject(i)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var j0=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function Mf(t){function e(i){t.error=t.hasError?new j0(i,t.error,"An error was suppressed during disposal."):i,t.hasError=!0}var r,n=0;function s(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(s);if(r.dispose){var i=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(i).then(s,function(o){return e(o),s()})}else n|=1}catch(o){e(o)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return s()}function Ff(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,s,i,o){return n?e?".jsx":".js":s&&(!i||!o)?r:s+i+"."+o.toLowerCase()+"js"}):t}const C0={__extends:vf,__assign:Mi,__rest:En,__decorate:wf,__param:_f,__esDecorate:bf,__runInitializers:Sf,__propKey:xf,__setFunctionName:kf,__metadata:Ef,__awaiter:A,__generator:jf,__createBinding:lo,__exportStar:Cf,__values:Fi,__read:Xl,__spread:Tf,__spreadArrays:Of,__spreadArray:Nf,__await:bn,__asyncGenerator:Pf,__asyncDelegator:Rf,__asyncValues:Af,__makeTemplateObject:If,__importStar:$f,__importDefault:Lf,__classPrivateFieldGet:Uf,__classPrivateFieldSet:Df,__classPrivateFieldIn:Bf,__addDisposableResource:zf,__disposeResources:Mf,__rewriteRelativeImportExtension:Ff},T0=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:zf,get __assign(){return Mi},__asyncDelegator:Rf,__asyncGenerator:Pf,__asyncValues:Af,__await:bn,__awaiter:A,__classPrivateFieldGet:Uf,__classPrivateFieldIn:Bf,__classPrivateFieldSet:Df,__createBinding:lo,__decorate:wf,__disposeResources:Mf,__esDecorate:bf,__exportStar:Cf,__extends:vf,__generator:jf,__importDefault:Lf,__importStar:$f,__makeTemplateObject:If,__metadata:Ef,__param:_f,__propKey:xf,__read:Xl,__rest:En,__rewriteRelativeImportExtension:Ff,__runInitializers:Sf,__setFunctionName:kf,__spread:Tf,__spreadArray:Nf,__spreadArrays:Of,__values:Fi,default:C0},Symbol.toStringTag,{value:"Module"})),O0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Zl extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class N0 extends Zl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Pc extends Zl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Rc extends Zl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var qa;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(qa||(qa={}));class P0{constructor(e,{headers:r={},customFetch:n,region:s=qa.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=O0(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return A(this,arguments,void 0,function*(r,n={}){var s;let i,o;try{const{headers:a,method:l,body:u,signal:c,timeout:f}=n;let d={},{region:y}=n;y||(y=this.region);const v=new URL(`${this.url}/${r}`);y&&y!=="any"&&(d["x-region"]=y,v.searchParams.set("forceFunctionRegion",y));let w;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",w=u):typeof u=="string"?(d["Content-Type"]="text/plain",w=u):typeof FormData<"u"&&u instanceof FormData?w=u:(d["Content-Type"]="application/json",w=JSON.stringify(u)):w=u;let b=c;f&&(o=new AbortController,i=setTimeout(()=>o.abort(),f),c?(b=o.signal,c.addEventListener("abort",()=>o.abort())):b=o.signal);const m=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),a),body:w,signal:b}).catch(j=>{throw new N0(j)}),p=m.headers.get("x-relay-error");if(p&&p==="true")throw new Pc(m);if(!m.ok)throw new Rc(m);let g=((s=m.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return g==="application/json"?_=yield m.json():g==="application/octet-stream"||g==="application/pdf"?_=yield m.blob():g==="text/event-stream"?_=m:g==="multipart/form-data"?_=yield m.formData():_=yield m.text(),{data:_,error:null,response:m}}catch(a){return{data:null,error:a,response:a instanceof Rc||a instanceof Pc?a.context:void 0}}finally{i&&clearTimeout(i)}})}}var Oe={};const jn=Hp(T0);var Qs={},Ys={},Xs={},Zs={},ei={},ti={},Ac;function Vf(){if(Ac)return ti;Ac=1,Object.defineProperty(ti,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return ti.default=t,ti}var Ic;function Wf(){if(Ic)return ei;Ic=1,Object.defineProperty(ei,"__esModule",{value:!0});const e=jn.__importDefault(Vf());class r{constructor(s){var i,o;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(i=s.shouldThrowOnError)!==null&&i!==void 0?i:!1,this.signal=s.signal,this.isMaybeSingle=(o=s.isMaybeSingle)!==null&&o!==void 0?o:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,i){return this.headers=new Headers(this.headers),this.headers.set(s,i),this}then(s,i){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let a=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,c,f,d;let y=null,v=null,w=null,b=l.status,m=l.statusText;if(l.ok){if(this.method!=="HEAD"){const j=await l.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?v=j:v=JSON.parse(j))}const g=(c=this.headers.get("Prefer"))===null||c===void 0?void 0:c.match(/count=(exact|planned|estimated)/),_=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");g&&_&&_.length>1&&(w=parseInt(_[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(v)&&(v.length>1?(y={code:"PGRST116",details:`Results contain ${v.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},v=null,w=null,b=406,m="Not Acceptable"):v.length===1?v=v[0]:v=null)}else{const g=await l.text();try{y=JSON.parse(g),Array.isArray(y)&&l.status===404&&(v=[],y=null,b=200,m="OK")}catch{l.status===404&&g===""?(b=204,m="No Content"):y={message:g}}if(y&&this.isMaybeSingle&&(!((d=y==null?void 0:y.details)===null||d===void 0)&&d.includes("0 rows"))&&(y=null,b=200,m="OK"),y&&this.shouldThrowOnError)throw new e.default(y)}return{error:y,data:v,count:w,status:b,statusText:m}});return this.shouldThrowOnError||(a=a.catch(l=>{var u,c,f;return{error:{message:`${(u=l==null?void 0:l.name)!==null&&u!==void 0?u:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(c=l==null?void 0:l.stack)!==null&&c!==void 0?c:""}`,hint:"",code:`${(f=l==null?void 0:l.code)!==null&&f!==void 0?f:""}`},data:null,count:null,status:0,statusText:""}})),a.then(s,i)}returns(){return this}overrideTypes(){return this}}return ei.default=r,ei}var $c;function Hf(){if($c)return Zs;$c=1,Object.defineProperty(Zs,"__esModule",{value:!0});const e=jn.__importDefault(Wf());class r extends e.default{select(s){let i=!1;const o=(s??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:i=!0,nullsFirst:o,foreignTable:a,referencedTable:l=a}={}){const u=l?`${l}.order`:"order",c=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${c?`${c},`:""}${s}.${i?"asc":"desc"}${o===void 0?"":o?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${s}`),this}range(s,i,{foreignTable:o,referencedTable:a=o}={}){const l=typeof a>"u"?"offset":`${a}.offset`,u=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(l,`${s}`),this.url.searchParams.set(u,`${i-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:i=!1,settings:o=!1,buffers:a=!1,wal:l=!1,format:u="text"}={}){var c;const f=[s?"analyze":null,i?"verbose":null,o?"settings":null,a?"buffers":null,l?"wal":null].filter(Boolean).join("|"),d=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${d}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return Zs.default=r,Zs}var Lc;function eu(){if(Lc)return Xs;Lc=1,Object.defineProperty(Xs,"__esModule",{value:!0});const e=jn.__importDefault(Hf()),r=new RegExp("[,()]");class n extends e.default{eq(i,o){return this.url.searchParams.append(i,`eq.${o}`),this}neq(i,o){return this.url.searchParams.append(i,`neq.${o}`),this}gt(i,o){return this.url.searchParams.append(i,`gt.${o}`),this}gte(i,o){return this.url.searchParams.append(i,`gte.${o}`),this}lt(i,o){return this.url.searchParams.append(i,`lt.${o}`),this}lte(i,o){return this.url.searchParams.append(i,`lte.${o}`),this}like(i,o){return this.url.searchParams.append(i,`like.${o}`),this}likeAllOf(i,o){return this.url.searchParams.append(i,`like(all).{${o.join(",")}}`),this}likeAnyOf(i,o){return this.url.searchParams.append(i,`like(any).{${o.join(",")}}`),this}ilike(i,o){return this.url.searchParams.append(i,`ilike.${o}`),this}ilikeAllOf(i,o){return this.url.searchParams.append(i,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(i,o){return this.url.searchParams.append(i,`ilike(any).{${o.join(",")}}`),this}is(i,o){return this.url.searchParams.append(i,`is.${o}`),this}in(i,o){const a=Array.from(new Set(o)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(i,`in.(${a})`),this}contains(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cs.{${o.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(o)}`),this}containedBy(i,o){return typeof o=="string"?this.url.searchParams.append(i,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(i,`cd.{${o.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(o)}`),this}rangeGt(i,o){return this.url.searchParams.append(i,`sr.${o}`),this}rangeGte(i,o){return this.url.searchParams.append(i,`nxl.${o}`),this}rangeLt(i,o){return this.url.searchParams.append(i,`sl.${o}`),this}rangeLte(i,o){return this.url.searchParams.append(i,`nxr.${o}`),this}rangeAdjacent(i,o){return this.url.searchParams.append(i,`adj.${o}`),this}overlaps(i,o){return typeof o=="string"?this.url.searchParams.append(i,`ov.${o}`):this.url.searchParams.append(i,`ov.{${o.join(",")}}`),this}textSearch(i,o,{config:a,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const c=a===void 0?"":`(${a})`;return this.url.searchParams.append(i,`${u}fts${c}.${o}`),this}match(i){return Object.entries(i).forEach(([o,a])=>{this.url.searchParams.append(o,`eq.${a}`)}),this}not(i,o,a){return this.url.searchParams.append(i,`not.${o}.${a}`),this}or(i,{foreignTable:o,referencedTable:a=o}={}){const l=a?`${a}.or`:"or";return this.url.searchParams.append(l,`(${i})`),this}filter(i,o,a){return this.url.searchParams.append(i,`${o}.${a}`),this}}return Xs.default=n,Xs}var Uc;function Kf(){if(Uc)return Ys;Uc=1,Object.defineProperty(Ys,"__esModule",{value:!0});const e=jn.__importDefault(eu());class r{constructor(s,{headers:i={},schema:o,fetch:a}){this.url=s,this.headers=new Headers(i),this.schema=o,this.fetch=a}select(s,i){const{head:o=!1,count:a}=i??{},l=o?"HEAD":"GET";let u=!1;const c=(s??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",c),a&&this.headers.append("Prefer",`count=${a}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:i,defaultToNull:o=!0}={}){var a;const l="POST";if(i&&this.headers.append("Prefer",`count=${i}`),o||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(u.length>0){const c=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",c.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}upsert(s,{onConflict:i,ignoreDuplicates:o=!1,count:a,defaultToNull:l=!0}={}){var u;const c="POST";if(this.headers.append("Prefer",`resolution=${o?"ignore":"merge"}-duplicates`),i!==void 0&&this.url.searchParams.set("on_conflict",i),a&&this.headers.append("Prefer",`count=${a}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const f=s.reduce((d,y)=>d.concat(Object.keys(y)),[]);if(f.length>0){const d=[...new Set(f)].map(y=>`"${y}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:i}={}){var o;const a="PATCH";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}delete({count:s}={}){var i;const o="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}}return Ys.default=r,Ys}var Dc;function R0(){if(Dc)return Qs;Dc=1,Object.defineProperty(Qs,"__esModule",{value:!0});const t=jn,e=t.__importDefault(Kf()),r=t.__importDefault(eu());class n{constructor(i,{headers:o={},schema:a,fetch:l}={}){this.url=i,this.headers=new Headers(o),this.schemaName=a,this.fetch=l}from(i){const o=new URL(`${this.url}/${i}`);return new e.default(o,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(i){return new n(this.url,{headers:this.headers,schema:i,fetch:this.fetch})}rpc(i,o={},{head:a=!1,get:l=!1,count:u}={}){var c;let f;const d=new URL(`${this.url}/rpc/${i}`);let y;a||l?(f=a?"HEAD":"GET",Object.entries(o).filter(([w,b])=>b!==void 0).map(([w,b])=>[w,Array.isArray(b)?`{${b.join(",")}}`:`${b}`]).forEach(([w,b])=>{d.searchParams.append(w,b)})):(f="POST",y=o);const v=new Headers(this.headers);return u&&v.set("Prefer",`count=${u}`),new r.default({method:f,url:d,headers:v,schema:this.schemaName,body:y,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}}return Qs.default=n,Qs}Object.defineProperty(Oe,"__esModule",{value:!0});var qf=Oe.PostgrestError=np=Oe.PostgrestBuilder=tp=Oe.PostgrestTransformBuilder=Zf=Oe.PostgrestFilterBuilder=Yf=Oe.PostgrestQueryBuilder=Jf=Oe.PostgrestClient=void 0;const Cn=jn,Gf=Cn.__importDefault(R0());var Jf=Oe.PostgrestClient=Gf.default;const Qf=Cn.__importDefault(Kf());var Yf=Oe.PostgrestQueryBuilder=Qf.default;const Xf=Cn.__importDefault(eu());var Zf=Oe.PostgrestFilterBuilder=Xf.default;const ep=Cn.__importDefault(Hf());var tp=Oe.PostgrestTransformBuilder=ep.default;const rp=Cn.__importDefault(Wf());var np=Oe.PostgrestBuilder=rp.default;const sp=Cn.__importDefault(Vf());qf=Oe.PostgrestError=sp.default;var ip=Oe.default={PostgrestClient:Gf.default,PostgrestQueryBuilder:Qf.default,PostgrestFilterBuilder:Xf.default,PostgrestTransformBuilder:ep.default,PostgrestBuilder:rp.default,PostgrestError:sp.default};const A0=Vp({__proto__:null,get PostgrestBuilder(){return np},get PostgrestClient(){return Jf},get PostgrestError(){return qf},get PostgrestFilterBuilder(){return Zf},get PostgrestQueryBuilder(){return Yf},get PostgrestTransformBuilder(){return tp},default:ip},[Oe]),{PostgrestClient:I0,PostgrestQueryBuilder:nw,PostgrestFilterBuilder:sw,PostgrestTransformBuilder:iw,PostgrestBuilder:ow,PostgrestError:aw}=ip||A0;class $0{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const L0="2.81.1",U0=`realtime-js/${L0}`,op="1.0.0",D0="2.0.0",Bc=op,Ga=1e4,B0=1e3,z0=100;var yr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(yr||(yr={}));var pe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pe||(pe={}));var Ze;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ze||(Ze={}));var Ja;(function(t){t.websocket="websocket"})(Ja||(Ja={}));var vr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(vr||(vr={}));class M0{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(e,r){if(this._isArrayBuffer(e.payload))return r(this._binaryEncodePush(e));if(e.event===this.BROADCAST&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodePush(e){const{join_ref:r,ref:n,event:s,topic:i,payload:o}=e,a=this.META_LENGTH+r.length+n.length+i.length+s.length,l=new ArrayBuffer(this.HEADER_LENGTH+a);let u=new DataView(l),c=0;u.setUint8(c++,this.KINDS.push),u.setUint8(c++,r.length),u.setUint8(c++,n.length),u.setUint8(c++,i.length),u.setUint8(c++,s.length),Array.from(r,d=>u.setUint8(c++,d.charCodeAt(0))),Array.from(n,d=>u.setUint8(c++,d.charCodeAt(0))),Array.from(i,d=>u.setUint8(c++,d.charCodeAt(0))),Array.from(s,d=>u.setUint8(c++,d.charCodeAt(0)));var f=new Uint8Array(l.byteLength+o.byteLength);return f.set(new Uint8Array(l),0),f.set(new Uint8Array(o),l.byteLength),f.buffer}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const{join_ref:s,ref:i,topic:o}=e,a=e.payload.event,l=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0),u=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+i.length+o.length+a.length,c=new ArrayBuffer(this.HEADER_LENGTH+u);let f=new DataView(c),d=0;f.setUint8(d++,this.KINDS.userBroadcastPush),f.setUint8(d++,s.length),f.setUint8(d++,i.length),f.setUint8(d++,o.length),f.setUint8(d++,a.length),f.setUint8(d++,this.BINARY_ENCODING),Array.from(s,v=>f.setUint8(d++,v.charCodeAt(0))),Array.from(i,v=>f.setUint8(d++,v.charCodeAt(0))),Array.from(o,v=>f.setUint8(d++,v.charCodeAt(0))),Array.from(a,v=>f.setUint8(d++,v.charCodeAt(0)));var y=new Uint8Array(c.byteLength+l.byteLength);return y.set(new Uint8Array(c),0),y.set(new Uint8Array(l),c.byteLength),y.buffer}_encodeJsonUserBroadcastPush(e){var r,n;const{join_ref:s,ref:i,topic:o}=e,a=e.payload.event,l=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},c=new TextEncoder().encode(JSON.stringify(l)).buffer,f=this.USER_BROADCAST_PUSH_META_LENGTH+s.length+i.length+o.length+a.length,d=new ArrayBuffer(this.HEADER_LENGTH+f);let y=new DataView(d),v=0;y.setUint8(v++,this.KINDS.userBroadcastPush),y.setUint8(v++,s.length),y.setUint8(v++,i.length),y.setUint8(v++,o.length),y.setUint8(v++,a.length),y.setUint8(v++,this.JSON_ENCODING),Array.from(s,b=>y.setUint8(v++,b.charCodeAt(0))),Array.from(i,b=>y.setUint8(v++,b.charCodeAt(0))),Array.from(o,b=>y.setUint8(v++,b.charCodeAt(0))),Array.from(a,b=>y.setUint8(v++,b.charCodeAt(0)));var w=new Uint8Array(d.byteLength+c.byteLength);return w.set(new Uint8Array(d),0),w.set(new Uint8Array(c),d.byteLength),w.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[s,i,o,a,l]=n;return r({join_ref:s,ref:i,topic:o,event:a,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),s=new TextDecoder;switch(n){case this.KINDS.push:return this._decodePush(e,r,s);case this.KINDS.reply:return this._decodeReply(e,r,s);case this.KINDS.broadcast:return this._decodeBroadcast(e,r,s);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,s)}}_decodePush(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3);let a=this.HEADER_LENGTH+this.META_LENGTH-1;const l=n.decode(e.slice(a,a+s));a=a+s;const u=n.decode(e.slice(a,a+i));a=a+i;const c=n.decode(e.slice(a,a+o));a=a+o;const f=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{join_ref:l,ref:null,topic:u,event:c,payload:f}}_decodeReply(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+this.META_LENGTH;const u=n.decode(e.slice(l,l+s));l=l+s;const c=n.decode(e.slice(l,l+i));l=l+i;const f=n.decode(e.slice(l,l+o));l=l+o;const d=n.decode(e.slice(l,l+a));l=l+a;const y=JSON.parse(n.decode(e.slice(l,e.byteLength))),v={status:d,response:y};return{join_ref:u,ref:c,topic:f,event:Ze.reply,payload:v}}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const l=n.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{join_ref:null,ref:null,topic:a,event:l,payload:u}}_decodeUserBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2),o=r.getUint8(3),a=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+s));l=l+s;const c=n.decode(e.slice(l,l+i));l=l+i;const f=n.decode(e.slice(l,l+o));l=l+o;const d=e.slice(l,e.byteLength),y=a===this.JSON_ENCODING?JSON.parse(n.decode(d)):d,v={type:this.BROADCAST,event:c,payload:y};return o>0&&(v.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST,payload:v}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}}class ap{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Q;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Q||(Q={}));const zc=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((i,o)=>(i[o]=F0(o,t,e,s),i),{}):{}},F0=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?lp(i,o):Qa(o)},lp=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return K0(e,r)}switch(t){case Q.bool:return V0(e);case Q.float4:case Q.float8:case Q.int2:case Q.int4:case Q.int8:case Q.numeric:case Q.oid:return W0(e);case Q.json:case Q.jsonb:return H0(e);case Q.timestamp:return q0(e);case Q.abstime:case Q.date:case Q.daterange:case Q.int4range:case Q.int8range:case Q.money:case Q.reltime:case Q.text:case Q.time:case Q.timestamptz:case Q.timetz:case Q.tsrange:case Q.tstzrange:return Qa(e);default:return Qa(e)}},Qa=t=>t,V0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},W0=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},H0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},K0=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>lp(e,a))}return t},q0=t=>typeof t=="string"?t.replace(" ","T"):t,up=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class Vo{constructor(e,r,n={},s=Ga){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Mc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Mc||(Mc={}));class es{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=es.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=es.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=es.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(u,c)=>{o[u]||(l[u]=c)}),this.map(o,(u,c)=>{const f=i[u];if(f){const d=c.map(b=>b.presence_ref),y=f.map(b=>b.presence_ref),v=c.filter(b=>y.indexOf(b.presence_ref)<0),w=f.filter(b=>d.indexOf(b.presence_ref)<0);v.length>0&&(a[u]=v),w.length>0&&(l[u]=w)}else a[u]=c}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var u;const c=(u=e[a])!==null&&u!==void 0?u:[];if(e[a]=this.cloneDeep(l),c.length>0){const f=e[a].map(y=>y.presence_ref),d=c.filter(y=>f.indexOf(y.presence_ref)<0);e[a].unshift(...d)}n(a,c,l)}),this.map(o,(a,l)=>{let u=e[a];if(!u)return;const c=l.map(f=>f.presence_ref);u=u.filter(f=>c.indexOf(f.presence_ref)<0),e[a]=u,s(a,u,l),u.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Fc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Fc||(Fc={}));var ts;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(ts||(ts={}));var Nt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Nt||(Nt={}));class tu{constructor(e,r={config:{}},n){var s,i;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=pe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Vo(this,Ze.join,this.params,this.timeout),this.rejoinTimer=new ap(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pe.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=pe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ze.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new es(this),this.broadcastEndpointURL=up(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==pe.closed){const{config:{broadcast:o,presence:a,private:l}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[ts.PRESENCE]&&this.bindings[ts.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},d={broadcast:o,presence:Object.assign(Object.assign({},a),{enabled:c}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(Nt.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(Nt.CLOSED)),this.updateJoinPayload(Object.assign({config:d},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var v;if(this.socket.setAuth(),y===void 0){e==null||e(Nt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,b=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,m=[];for(let p=0;p<b;p++){const g=w[p],{filter:{event:_,schema:j,table:C,filter:T}}=g,R=y&&y[p];if(R&&R.event===_&&R.schema===j&&R.table===C&&R.filter===T)m.push(Object.assign(Object.assign({},g),{id:R.id}));else{this.unsubscribe(),this.state=pe.errored,e==null||e(Nt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=m,e&&e(Nt.SUBSCRIBED);return}}).receive("error",y=>{this.state=pe.errored,e==null||e(Nt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Nt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===pe.joined&&e===ts.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var s;const i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(s=n.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ze.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Vo(this,Ze.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pe.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Vo(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>z0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:u,join:c}=Ze;if(n&&[a,l,u,c].indexOf(o)>=0&&n!==this._joinRef())return;let d=this._onMessage(o,r,n);if(r&&!d)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var v,w,b;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(w=y.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(y=>y.callback(d,n)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var v,w,b,m,p,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const _=y.id,j=(v=y.filter)===null||v===void 0?void 0:v.event;return _&&((w=r.ids)===null||w===void 0?void 0:w.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((b=r.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const _=(p=(m=y==null?void 0:y.filter)===null||m===void 0?void 0:m.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return _==="*"||_===((g=r==null?void 0:r.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof d=="object"&&"ids"in d){const v=d.data,{schema:w,table:b,commit_timestamp:m,type:p,errors:g}=v;d=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:m,eventType:p,new:{},old:{},errors:g}),this._getPayloadRecords(v))}y.callback(d,n)})}_isClosed(){return this.state===pe.closed}_isJoined(){return this.state===pe.joined}_isJoining(){return this.state===pe.joining}_isLeaving(){return this.state===pe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&tu.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ze.close,{},e)}_onError(e){this._on(Ze.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=zc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=zc(e.columns,e.old_record)),r}}const Wo=()=>{},ri={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},G0=[1e3,2e3,5e3,1e4],J0=1e4,Q0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Y0{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ga,this.transport=null,this.heartbeatIntervalMs=ri.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Wo,this.ref=0,this.reconnectTimer=null,this.vsn=Bc,this.logger=Wo,this.conn=null,this.sendBuffer=[],this.serializer=new M0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>s?(...i)=>s(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Ja.websocket}`,this.httpEndpoint=up(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$0.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case yr.connecting:return vr.Connecting;case yr.open:return vr.Open;case yr.closing:return vr.Closing;default:return vr.Closed}}isConnected(){return this.connectionState()===vr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new tu(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(B0,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ri.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===yr.open||this.conn.readyState===yr.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ze.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Q0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:U0};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ze.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new ap(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ri.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,u,c,f,d,y;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Ga,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:ri.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(a=e==null?void 0:e.heartbeatCallback)!==null&&a!==void 0?a:Wo,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Bc,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:v=>G0[v-1]||J0,this.vsn){case op:this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(v,w)=>w(JSON.stringify(v)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(v,w)=>w(JSON.parse(v));break;case D0:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:this.serializer.encode.bind(this.serializer),this.decode=(y=e==null?void 0:e.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ru extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function se(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class X0 extends ru{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ya extends ru{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const nu=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Z0=()=>Response,Xa=t=>{if(Array.isArray(t))return t.map(r=>Xa(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Xa(n)}),e},ey=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ho=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},ty=(t,e,r)=>A(void 0,void 0,void 0,function*(){const n=yield Z0();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new X0(Ho(s),i,o))}).catch(s=>{e(new Ya(Ho(s),s))}):e(new Ya(Ho(t),t))}),ry=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(ey(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function Cs(t,e,r,n,s,i){return A(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,ry(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>ty(l,a,n))})})}function ws(t,e,r,n){return A(this,void 0,void 0,function*(){return Cs(t,"GET",e,r,n)})}function dt(t,e,r,n,s){return A(this,void 0,void 0,function*(){return Cs(t,"POST",e,n,s,r)})}function Za(t,e,r,n,s){return A(this,void 0,void 0,function*(){return Cs(t,"PUT",e,n,s,r)})}function ny(t,e,r,n){return A(this,void 0,void 0,function*(){return Cs(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function su(t,e,r,n,s){return A(this,void 0,void 0,function*(){return Cs(t,"DELETE",e,n,s,r)})}class sy{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return A(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(se(e))return{data:null,error:e};throw e}})}}var cp;class iy{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[cp]="BlobDownloadBuilder",this.promise=null}asStream(){return new sy(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return A(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(se(e))return{data:null,error:e};throw e}})}}cp=Symbol.toStringTag;const oy=iy,ay={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ly{constructor(e,r={},n,s){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=nu(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,s){return A(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Vc),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const u=this._removeEmptyFolders(r),c=this._getFinalPath(u),f=yield(e=="PUT"?Za:dt)(this.fetch,`${this.url}/object/${c}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(se(i))return{data:null,error:i};throw i}})}upload(e,r,n){return A(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return A(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Vc.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,c["cache-control"]=`max-age=${u.cacheControl}`,c["content-type"]=u.contentType);const f=yield Za(this.fetch,a.toString(),l,{headers:c});return{data:{path:i,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(se(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return A(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield dt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new ru("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n))return{data:null,error:n};throw n}})}update(e,r,n){return A(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return A(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}copy(e,r,n){return A(this,void 0,void 0,function*(){try{return{data:{path:(yield dt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return A(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield dt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return A(this,void 0,void 0,function*(){try{const s=yield dt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}download(e,r){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"",a=this._getFinalPath(e),l=()=>ws(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0});return new oy(l,this.shouldThrowOnError)}info(e){return A(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ws(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Xa(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n))return{data:null,error:n};throw n}})}exists(e){return A(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield ny(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n)&&n instanceof Ya){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${u}`)}}}remove(e){return A(this,void 0,void 0,function*(){try{return{data:yield su(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}list(e,r,n){return A(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},ay),r),{prefix:e||""});return{data:yield dt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}listV2(e,r){return A(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield dt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const dp="2.81.1",hp={"X-Client-Info":`storage-js/${dp}`};class uy{constructor(e,r={},n,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hp),r),this.fetch=nu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return A(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield ws(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}getBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield ws(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}createBucket(e){return A(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield dt(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(se(s))return{data:null,error:s};throw s}})}updateBucket(e,r){return A(this,void 0,void 0,function*(){try{return{data:yield Za(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(se(n))return{data:null,error:n};throw n}})}emptyBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}deleteBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield su(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}class cy{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},hp),r),this.fetch=nu(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield dt(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}listBuckets(e){return A(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),s=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield ws(this.fetch,s,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}deleteBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield su(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(se(r))return{data:null,error:r};throw r}})}}const iu={"X-Client-Info":`storage-js/${dp}`,"Content-Type":"application/json"};class fp extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function He(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class Ko extends fp{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class dy extends fp{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Wc;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Wc||(Wc={}));const ou=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),hy=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Hc=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),fy=(t,e,r)=>A(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const s=t.status||500,i=t;if(typeof i.json=="function")i.json().then(o=>{const a=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||s+"";e(new Ko(Hc(o),s,a))}).catch(()=>{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Ko(a,s,o))});else{const o=s+"",a=i.statusText||`HTTP ${s} error`;e(new Ko(a,s,o))}}else e(new dy(Hc(t),t))}),py=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(hy(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),r))};function gy(t,e,r,n,s,i){return A(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,py(e,n,s,i)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>o(l)).catch(l=>fy(l,a,n))})})}function Ke(t,e,r,n,s){return A(this,void 0,void 0,function*(){return gy(t,"POST",e,n,s,r)})}class my{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},iu),r),this.fetch=ou(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return A(this,void 0,void 0,function*(){try{return{data:(yield Ke(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}getIndex(e,r){return A(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}listIndexes(e){return A(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return A(this,void 0,void 0,function*(){try{return{data:(yield Ke(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(He(n))return{data:null,error:n};throw n}})}}class yy{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},iu),r),this.fetch=ou(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return A(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ke(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}getVectors(e){return A(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}listVectors(e){return A(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ke(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}queryVectors(e){return A(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}deleteVectors(e){return A(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ke(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}}class vy{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},iu),r),this.fetch=ou(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return A(this,void 0,void 0,function*(){try{return{data:(yield Ke(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}getBucket(e){return A(this,void 0,void 0,function*(){try{return{data:yield Ke(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}listBuckets(){return A(this,arguments,void 0,function*(e={}){try{return{data:yield Ke(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}deleteBucket(e){return A(this,void 0,void 0,function*(){try{return{data:(yield Ke(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(He(r))return{data:null,error:r};throw r}})}}class wy extends vy{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new _y(this.url,this.headers,e,this.fetch)}}class _y extends my{constructor(e,r,n,s){super(e,r,s),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return A(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return A(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return A(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return A(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new by(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class by extends yy{constructor(e,r,n,s,i){super(e,r,i),this.vectorBucketName=n,this.indexName=s}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return A(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return A(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return A(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return A(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return A(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class Sy extends uy{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new ly(this.url,this.headers,e,this.fetch)}get vectors(){return new wy(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new cy(this.url+"/iceberg",this.headers,this.fetch)}}const xy="2.81.1";let Wn="";typeof Deno<"u"?Wn="deno":typeof document<"u"?Wn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Wn="react-native":Wn="node";const ky={"X-Client-Info":`supabase-js-${Wn}/${xy}`},Ey={headers:ky},jy={schema:"public"},Cy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ty={},Oy=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Ny=()=>Headers,Py=(t,e,r)=>{const n=Oy(r),s=Ny();return async(i,o)=>{var a;const l=(a=await e())!==null&&a!==void 0?a:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:u}))}};function Ry(t){return t.endsWith("/")?t:t+"/"}function Ay(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:u,realtime:c,global:f}=e,d={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},c),o),storage:{},global:Object.assign(Object.assign(Object.assign({},f),a),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?d.accessToken=t.accessToken:delete d.accessToken,d}function Iy(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Ry(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const pp="2.81.1",Kr=30*1e3,el=3,qo=el*Kr,$y="http://localhost:9999",Ly="supabase.auth.token",Uy={"X-Client-Info":`gotrue-js/${pp}`},tl="X-Supabase-Api-Version",gp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Dy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,By=10*60*1e3;class _s extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function I(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class zy extends _s{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function My(t){return I(t)&&t.name==="AuthApiError"}class wr extends _s{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class lr extends _s{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class lt extends lr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Fy(t){return I(t)&&t.name==="AuthSessionMissingError"}class zr extends lr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ni extends lr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class si extends lr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Vy(t){return I(t)&&t.name==="AuthImplicitGrantRedirectError"}class Kc extends lr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class rl extends lr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Go(t){return I(t)&&t.name==="AuthRetryableFetchError"}class qc extends lr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class nl extends lr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Vi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Gc=` 	
\r=`.split(""),Wy=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Gc.length;e+=1)t[Gc[e].charCodeAt(0)]=-2;for(let e=0;e<Vi.length;e+=1)t[Vi[e].charCodeAt(0)]=e;return t})();function Jc(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Vi[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Vi[n]),e.queuedBits-=6}}function mp(t,e,r){const n=Wy[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Qc(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{qy(o,n,r)};for(let o=0;o<t.length;o+=1)mp(t.charCodeAt(o),s,i);return e.join("")}function Hy(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Ky(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Hy(n,e)}}function qy(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function fn(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)mp(t.charCodeAt(s),r,n);return new Uint8Array(e)}function Gy(t){const e=[];return Ky(t,r=>e.push(r)),new Uint8Array(e)}function xr(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Jc(s,r,n)),Jc(null,r,n),e.join("")}function Jy(t){return Math.round(Date.now()/1e3)+t}function Qy(){return Symbol("auth-callback")}const _e=()=>typeof window<"u"&&typeof document<"u",hr={tested:!1,writable:!1},yp=()=>{if(!_e())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(hr.tested)return hr.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),hr.tested=!0,hr.writable=!0}catch{hr.tested=!0,hr.writable=!1}return hr.writable};function Yy(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const vp=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),Xy=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",qr=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},fr=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Mt=async(t,e)=>{await t.removeItem(e)};class uo{constructor(){this.promise=new uo.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}uo.promiseConstructor=Promise;function Jo(t){const e=t.split(".");if(e.length!==3)throw new nl("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Dy.test(e[n]))throw new nl("JWT not in base64url format");return{header:JSON.parse(Qc(e[0])),payload:JSON.parse(Qc(e[1])),signature:fn(e[2]),raw:{header:e[0],payload:e[1]}}}async function Zy(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function ev(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function tv(t){return("0"+t.toString(16)).substr(-2)}function rv(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,tv).join("")}async function nv(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function sv(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await nv(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Mr(t,e,r=!1){const n=rv();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await qr(t,`${e}-code-verifier`,s);const i=await sv(n);return[i,n===i?"plain":"s256"]}const iv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ov(t){const e=t.headers.get(tl);if(!e||!e.match(iv))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function av(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function lv(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const uv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Fr(t){if(!uv.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Qo(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function cv(t,e){return new Proxy(t,{get:(r,n,s)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,s)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,s)}})}function Yc(t){return JSON.parse(JSON.stringify(t))}const mr=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),dv=[502,503,504];async function Xc(t){var e;if(!Xy(t))throw new rl(mr(t),0);if(dv.includes(t.status))throw new rl(mr(t),t.status);let r;try{r=await t.json()}catch(i){throw new wr(mr(i),i)}let n;const s=ov(t);if(s&&s.getTime()>=gp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new qc(mr(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new lt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new qc(mr(r),t.status,r.weak_password.reasons);throw new zy(mr(r),t.status||500,n)}const hv=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function U(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[tl]||(i[tl]=gp["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await fv(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function fv(t,e,r,n,s,i){const o=hv(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new rl(mr(l),0)}if(a.ok||await Xc(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Xc(l)}}function ut(t){var e;let r=null;mv(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=Jy(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Zc(t){const e=ut(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Kt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function pv(t){return{data:t,error:null}}function gv(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=En(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function ed(t){return t}function mv(t){return t.access_token&&t.refresh_token&&t.expires_in}const Yo=["global","local","others"];class yv{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=vp(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Yo[0]){if(Yo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yo.join(", ")}`);try{return await U(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await U(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Kt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=En(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await U(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:gv,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(I(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await U(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Kt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await U(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ed});if(c.error)throw c.error;const f=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=w}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(I(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Fr(e);try{return await U(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Kt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Fr(e);try{return await U(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Kt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Fr(e);try{return await U(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Kt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Fr(e.userId);try{const{data:r,error:n}=await U(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Fr(e.userId),Fr(e.id);try{return{data:await U(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,s,i,o,a,l;try{const u={nextPage:null,lastPage:0,total:0},c=await U(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:ed});if(c.error)throw c.error;const f=await c.json(),d=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(l=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return y.length>0&&(y.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=w}),u.total=parseInt(d)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(I(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await U(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await U(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await U(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(I(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await U(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await U(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}}function td(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const Vr={debug:!!(globalThis&&yp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class wp extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class vv extends wp{}async function wv(t,e,r){Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Vr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new vv(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Vr.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function _v(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function _p(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function bv(t){return parseInt(t,16)}function Sv(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function xv(t){var e;const{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:f,version:d}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(d!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const y=_p(t.address),v=c?`${c}://${n}`:n,w=t.statement?`${t.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${y}

${w}`;let m=`URI: ${f}
Version: ${d}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(m+=`
Expiration Time: ${s.toISOString()}`),a&&(m+=`
Not Before: ${a.toISOString()}`),l&&(m+=`
Request ID: ${l}`),u){let p=`
Resources:`;for(const g of u){if(!g||typeof g!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${g}`);p+=`
- ${g}`}m+=p}return`${b}
${m}`}class he extends Error{constructor({message:e,code:r,cause:n,name:s}){var i;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=s??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class Wi extends he{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function kv({error:t,options:e}){var r,n,s;const{publicKey:i}=e;if(!i)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new he({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new he({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new he({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((s=i.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new he({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new he({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new he({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return i.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new he({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new he({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const o=window.location.hostname;if(bp(o)){if(i.rp.id!==o)return new he({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new he({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new he({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new he({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new he({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Ev({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new he({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new he({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(bp(n)){if(r.rpId!==n)return new he({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new he({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new he({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new he({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class jv{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Cv=new jv;function Tv(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,s=En(t,["challenge","user","excludeCredentials"]),i=fn(e).buffer,o=Object.assign(Object.assign({},r),{id:fn(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:fn(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function Ov(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=En(t,["challenge","allowCredentials"]),s=fn(e).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let o=0;o<r.length;o++){const a=r[o];i.allowCredentials[o]=Object.assign(Object.assign({},a),{id:fn(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return i}function Nv(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:xr(new Uint8Array(t.response.attestationObject)),clientDataJSON:xr(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Pv(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),s=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:xr(new Uint8Array(s.authenticatorData)),clientDataJSON:xr(new Uint8Array(s.clientDataJSON)),signature:xr(new Uint8Array(s.signature)),userHandle:s.userHandle?xr(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function bp(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function rd(){var t,e;return!!(_e()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Rv(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Wi("Browser returned unexpected credential type",e)}:{data:null,error:new Wi("Empty credential response",e)}}catch(e){return{data:null,error:kv({error:e,options:t})}}}async function Av(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new Wi("Browser returned unexpected credential type",e)}:{data:null,error:new Wi("Empty credential response",e)}}catch(e){return{data:null,error:Ev({error:e,options:t})}}}const Iv={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},$v={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Hi(...t){const e=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),r=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),n={};for(const s of t)if(s)for(const i in s){const o=s[i];if(o!==void 0)if(Array.isArray(o))n[i]=o;else if(r(o))n[i]=o;else if(e(o)){const a=n[i];e(a)?n[i]=Hi(a,o):n[i]=Hi(o)}else n[i]=o}return n}function Lv(t,e){return Hi(Iv,t,e||{})}function Uv(t,e){return Hi($v,t,e||{})}class Dv{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:s},i){try{const{data:o,error:a}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!o)return{data:null,error:a};const l=s??Cv.createNewAbortSignal();if(o.webauthn.type==="create"){const{user:u}=o.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(o.webauthn.type){case"create":{const u=Lv(o.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:c,error:f}=await Rv({publicKey:u,signal:l});return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:f}}case"request":{const u=Uv(o.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:c,error:f}=await Av(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:u,signal:l}));return c?{data:{factorId:e,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:c}},error:null}:{data:null,error:f}}}}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new wr("Unexpected error in challenge",o)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new _s("rpId is required for WebAuthn authentication")};try{if(!rd())return{data:null,error:new wr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:s},{request:i});if(!o)return{data:null,error:a};const{webauthn:l}=o;return this._verify({factorId:e,challengeId:o.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new wr("Unexpected error in authenticate",o)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},i){if(!r)return{data:null,error:new _s("rpId is required for WebAuthn registration")};try{if(!rd())return{data:null,error:new wr("Browser does not support WebAuthn",null)};const{data:o,error:a}=await this._enroll({friendlyName:e});if(!o)return await this.client.mfa.listFactors().then(c=>{var f;return(f=c.data)===null||f===void 0?void 0:f.all.find(d=>d.factor_type==="webauthn"&&d.friendly_name===e&&d.status!=="unverified")}).then(c=>c?this.client.mfa.unenroll({factorId:c==null?void 0:c.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:s},{create:i});return l?this._verify({factorId:o.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(o){return I(o)?{data:null,error:o}:{data:null,error:new wr("Unexpected error in register",o)}}}}_v();const Bv={url:$y,storageKey:Ly,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Uy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function nd(t,e,r){return await r()}const Wr={};class bs{get jwks(){var e,r;return(r=(e=Wr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Wr[this.storageKey]=Object.assign(Object.assign({},Wr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Wr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Wr[this.storageKey]=Object.assign(Object.assign({},Wr[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Bv),e);if(this.storageKey=i.storageKey,this.instanceID=(r=bs.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,bs.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&_e()){const o=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(o),this.logDebugMessages&&console.trace(o)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new yv({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=vp(i.fetch),this.lock=i.lock||nd,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,i.lock?this.lock=i.lock:_e()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=wv:this.lock=nd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Dv(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:yp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=td(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=td(this.memoryStorage)),_e()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${pp}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(_e()&&(r=Yy(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),_e()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Vy(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return I(r)?this._returnResult({error:r}):this._returnResult({error:new wr("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ut}),{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:c,password:f,options:d}=e;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await Mr(this.storage,this.storageKey)),i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:d==null?void 0:d.emailRedirectTo,body:{email:c,password:f,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:y,code_challenge_method:v},xform:ut})}else if("phone"in e){const{phone:c,password:f,options:d}=e;i=await U(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},channel:(s=d==null?void 0:d.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:ut})}else throw new ni("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return this._returnResult({data:{user:null,session:null},error:a});const l=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(I(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Zc})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await U(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Zc})}else throw new ni("You must provide either an email or phone number and a password");const{data:n,error:s}=r;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!n||!n.session||!n.user){const i=new zr;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,s,i,o,a,l,u,c,f,d;let y,v;if("message"in e)y=e.message,v=e.signature;else{const{chain:w,wallet:b,statement:m,options:p}=e;let g;if(_e())if(typeof b=="object")g=b;else{const W=window;if("ethereum"in W&&typeof W.ethereum=="object"&&"request"in W.ethereum&&typeof W.ethereum.request=="function")g=W.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");g=b}const _=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href),j=await g.request({method:"eth_requestAccounts"}).then(W=>W).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const C=_p(j[0]);let T=(n=p==null?void 0:p.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!T){const W=await g.request({method:"eth_chainId"});T=bv(W)}const R={domain:_.host,address:C,statement:m,uri:_.href,version:"1",chainId:T,nonce:(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(o=(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date,expirationTime:(a=p==null?void 0:p.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=p==null?void 0:p.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.resources};y=xv(R),v=await g.request({method:"personal_sign",params:[Sv(y),C]})}try{const{data:w,error:b}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:v},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(d=e.options)===null||d===void 0?void 0:d.captchaToken}}:null),xform:ut});if(b)throw b;if(!w||!w.session||!w.user){const m=new zr;return this._returnResult({data:{user:null,session:null},error:m})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:b})}catch(w){if(I(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async signInWithSolana(e){var r,n,s,i,o,a,l,u,c,f,d,y;let v,w;if("message"in e)v=e.message,w=e.signature;else{const{chain:b,wallet:m,statement:p,options:g}=e;let _;if(_e())if(typeof m=="object")_=m;else{const C=window;if("solana"in C&&typeof C.solana=="object"&&("signIn"in C.solana&&typeof C.solana.signIn=="function"||"signMessage"in C.solana&&typeof C.solana.signMessage=="function"))_=C.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof m!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=m}const j=new URL((r=g==null?void 0:g.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const C=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),p?{statement:p}:null));let T;if(Array.isArray(C)&&C[0]&&typeof C[0]=="object")T=C[0];else if(C&&typeof C=="object"&&"signedMessage"in C&&"signature"in C)T=C;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)v=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),w=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=g==null?void 0:g.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((a=g==null?void 0:g.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(c=g==null?void 0:g.signInWithSolana)===null||c===void 0?void 0:c.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const C=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!C||!(C instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=C}}try{const{data:b,error:m}=await U(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:xr(w)},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ut});if(m)throw m;if(!b||!b.session||!b.user){const p=new zr;return this._returnResult({data:{user:null,session:null},error:p})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:m})}catch(b){if(I(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(e){const r=await fr(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await U(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:ut});if(await Mt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;if(!i||!i.session||!i.user){const a=new zr;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(I(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:ut}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const c=new zr;return this._returnResult({data:{user:null,session:null},error:c})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let u=null,c=null;this.flowType==="pkce"&&([u,c]=await Mr(this.storage,this.storageKey));const{error:f}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:a,options:l}=e,{data:u,error:c}=await U(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:c})}throw new ni("You must provide either an email or phone number.")}catch(a){if(I(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await U(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ut});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,u=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(e){var r,n,s,i,o;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await Mr(this.storage,this.storageKey));const u=await U(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:pv});return!((i=u.data)===null||i===void 0)&&i.url&&_e()&&!(!((o=e.options)===null||o===void 0)&&o.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(I(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new lt;const{error:s}=await U(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(e){if(I(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await U(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:o})}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await U(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a})}throw new ni("You must provide either an email or phone number and a type")}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await fr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<qo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await fr(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Qo()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const o={value:this.suppressGetSessionWarning};e.user=cv(e.user,o),o.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Kt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new lt}:await U(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Kt})})}catch(r){if(I(r))return Fy(r)&&(await this._removeSession(),await Mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new lt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Mr(this.storage,this.storageKey));const{data:u,error:c}=await U(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Kt});if(c)throw c;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),this._returnResult({data:{user:o.user},error:null})})}catch(n){if(I(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new lt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Jo(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{data:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(I(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new lt;const{data:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(I(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!_e())throw new si("No browser detected.");if(e.error||e.error_description||e.error_code)throw new si(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Kc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new si("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Kc("No code detected.");const{data:p,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:u}=e;if(!i||!a||!o||!u)throw new si("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(a);let d=c+f;l&&(d=parseInt(l));const y=d-c;y*1e3<=Kr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${f}s`);const v=d-f;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,d,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,d,c);const{data:w,error:b}=await this._getUser(i);if(b)throw b;const m={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:d,refresh_token:o,token_type:u,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:m,redirectType:e.type},error:null})}catch(n){if(I(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await fr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({error:i});const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(My(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return e!=="others"&&(await this._removeSession(),await Mt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=Qy(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Mr(this.storage,this.storageKey,!0));try{return await U(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(I(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,u,c;const{data:f,error:d}=i;if(d)throw d;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await U(this.fetch,"GET",y,{headers:this.headers,jwt:(c=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return _e()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(I(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:s,data:{session:i}}=r;if(s)throw s;const{options:o,provider:a,token:l,access_token:u,nonce:c}=e,f=await U(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:a,id_token:l,access_token:u,nonce:c,link_identity:!0,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:ut}),{data:d,error:y}=f;return y?this._returnResult({data:{user:null,session:null},error:y}):!d||!d.session||!d.user?this._returnResult({data:{user:null,session:null},error:new zr}):(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("USER_UPDATED",d.session)),this._returnResult({data:d,error:y}))}catch(s){if(I(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await U(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await ev(async s=>(s>0&&await Zy(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await U(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ut})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Go(i)&&Date.now()+o-n<Kr})}catch(n){if(this._debug(r,"error",n),I(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),_e()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await fr(this.storage,this.storageKey);if(s&&this.userStorage){let o=await fr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await qr(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Qo()}else if(s&&!s.user&&!s.user){const o=await fr(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Mt(this.storage,this.storageKey+"-user"),await qr(this.storage,this.storageKey,s)):s.user=Qo()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<qo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${qo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Go(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new lt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new uo;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new lt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={data:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),I(i)){const o={data:null,error:i};return Go(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await qr(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Yc(s);await qr(this.storage,this.storageKey,i)}else{const s=Yc(r);await qr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Mt(this.storage,this.storageKey),await Mt(this.storage,this.storageKey+"-code-verifier"),await Mt(this.storage,this.storageKey+"-user"),this.userStorage&&await Mt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&_e()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Kr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Kr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Kr}ms, refresh threshold is ${el} ticks`),s<=el&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof wp)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!_e()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Mr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?this._returnResult({data:null,error:i}):await U(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return this._returnResult({data:null,error:o});const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await U(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Nv(e.webauthn.credential_response):Pv(e.webauthn.credential_response)})}:{code:e.code}),{data:a,error:l}=await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return this._returnResult({data:null,error:i});const o=await U(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});if(o.error)return o;const{data:a}=o;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Tv(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:Ov(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const s={all:[],phone:[],totp:[],webauthn:[]};for(const i of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])s.all.push(i),i.status==="verified"&&s[i.factor_type].push(i);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Jo(n.access_token);let o=null;i.aal&&(o=i.aal);let a=o;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(c=>c.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(a="aal2");const u=i.amr||[];return{data:{currentLevel:o,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:s}=r;return s?this._returnResult({data:null,error:s}):n?await U(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new lt})})}catch(r){if(I(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new lt});const o=await U(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&_e()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:s},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!s)return this._returnResult({data:null,error:new lt});const o=await U(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return o.data&&o.data.redirect_url&&_e()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(o.data.redirect_url),o})}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+By>s)return n;const{data:i,error:o}=await U(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:y,error:v}=await this.getSession();if(v||!y.session)return this._returnResult({data:null,error:v});n=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Jo(n);r!=null&&r.allowExpired||av(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const c=lv(s.alg),f=await crypto.subtle.importKey("jwk",u,c,!0,["verify"]);if(!await crypto.subtle.verify(c,f,o,Gy(`${a}.${l}`)))throw new nl("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(I(n))return this._returnResult({data:null,error:n});throw n}}}bs.nextInstanceID={};const zv=bs;class Mv extends zv{constructor(e){super(e)}}class Fv{constructor(e,r,n){var s,i,o;this.supabaseUrl=e,this.supabaseKey=r;const a=Iy(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",a),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",a),this.storageUrl=new URL("storage/v1",a),this.functionsUrl=new URL("functions/v1",a);const l=`sb-${a.hostname.split(".")[0]}-auth-token`,u={db:jy,realtime:Ty,auth:Object.assign(Object.assign({},Cy),{storageKey:l}),global:Ey},c=Ay(n??{},u);this.storageKey=(s=c.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(f,d)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(d)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Py(r,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new I0(new URL("rest/v1",a).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new Sy(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new P0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,storageKey:o,flowType:a,lock:l,debug:u,throwOnError:c},f,d){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Mv({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),f),storageKey:o,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:i,flowType:a,lock:l,debug:u,throwOnError:c,fetch:d,hasCustomAuthorizationHeader:Object.keys(this.headers).some(v=>v.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new Y0(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Vv=(t,e,r)=>new Fv(t,e,r);function Wv(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Wv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Hv={}.VITE_SUPABASE_URL,Kv={}.VITE_SUPABASE_ANON_KEY,yt=Vv(Hv,Kv),qv=t=>{var a;const e=t.split(","),r=((a=e[0].match(/:(.*?);/))==null?void 0:a[1])||"image/png",n=e[1],s=atob(n),i=new Array(s.length);for(let l=0;l<s.length;l++)i[l]=s.charCodeAt(l);const o=new Uint8Array(i);return new Blob([o],{type:r})},Gv=async(t,e,r)=>{try{const n=qv(t),s=Date.now(),i=`${e}/word-${r}-${s}.png`;console.log(`Uploading image: ${i} (${(n.size/1024).toFixed(2)} KB)`);const{error:o}=await yt.storage.from("Images").upload(i,n,{contentType:"image/png",upsert:!0});if(o)throw console.error("Storage upload error:",o),o;const{data:a}=yt.storage.from("Images").getPublicUrl(i);return console.log(` Image uploaded successfully: ${a.publicUrl}`),a.publicUrl}catch(n){throw console.error("Error uploading image to storage:",n),n}},Jv=async t=>{try{const{data:e,error:r}=await yt.storage.from("Images").list(t);if(r){console.warn("Could not list images for deletion:",r);return}if(!e||e.length===0){console.log("No images to delete for lesson:",t);return}const n=e.map(i=>`${t}/${i.name}`),{error:s}=await yt.storage.from("Images").remove(n);s?console.warn("Could not delete some images:",s):console.log(` Deleted ${n.length} images for lesson ${t}`)}catch(e){console.error("Error deleting images from storage:",e)}},Qv=t=>t.split(`
`).filter(e=>e.trim()).slice(0,3).map(e=>e.trim().toLowerCase().replace(/[^a-z0-9]/g,"-")).join("-").substring(0,50),sd=async(t,e)=>{var u;const r=Qv(t),n=t.split(`
`).filter(c=>c.trim()).join(", "),s={lesson_id:r,title:n,words:t,lesson_data:e,updated_at:new Date().toISOString()},o=(JSON.stringify(s).length/(1024*1024)).toFixed(2);console.log(`Saving lesson with ${((u=e==null?void 0:e.words)==null?void 0:u.length)||0} words, payload size: ${o} MB`);const{data:a,error:l}=await yt.from("lessons").upsert(s,{onConflict:"lesson_id"}).select();if(l)throw console.error("Save lesson error:",l),console.error("Error code:",l.code),console.error("Error message:",l.message),console.error("Error details:",l.details),l;return console.log("Lesson saved successfully!"),{lessonId:r,data:a}},Yv=async t=>{const{data:e,error:r}=await yt.from("lessons").select("*").eq("lesson_id",t).single();if(r)throw r;try{await yt.rpc("increment_view_count",{lesson_id_param:t})}catch(n){console.log("Could not increment view count:",n)}return e},Xv=async(t=50,e=!1)=>{let r=yt.from("lessons").select("id, lesson_id, title, created_at, view_count, archived").order("created_at",{ascending:!1}).limit(t);e||(r=r.or("archived.is.null,archived.eq.false"));const{data:n,error:s}=await r;if(s)throw s;return n},Zv=async t=>{const{error:e}=await yt.from("lessons").update({archived:!0,archived_at:new Date().toISOString()}).eq("lesson_id",t);if(e)throw e},ew=async t=>{const{error:e}=await yt.from("lessons").update({archived:!1,archived_at:null}).eq("lesson_id",t);if(e)throw e},tw=async t=>{console.log("deleteLesson called with:",t),await Jv(t);const{data:e,error:r}=await yt.from("lessons").delete().eq("lesson_id",t).select();if(console.log("Supabase delete response:",{data:e,error:r}),r)throw console.error("Supabase delete error:",r),r;return e},rw=()=>{var yu;const[t,e]=z.useState("input"),[r,n]=z.useState(""),[s,i]=z.useState(null),[o,a]=z.useState(!1),[l,u]=z.useState({}),[c,f]=z.useState(null),[d,y]=z.useState(""),[v,w]=z.useState({}),[b,m]=z.useState(null),[p,g]=z.useState(!1),[_,j]=z.useState(null),[C,T]=z.useState(""),[R,W]=z.useState(null),[M,ye]=z.useState([]);z.useState(null);const[ot,ur]=z.useState(!1),[Me,co]=z.useState({current:0,total:0,word:""}),[vt,cr]=z.useState(0),[N,B]=z.useState([]),[$,X]=z.useState(0),[ue,Ar]=z.useState(""),[Ct,Ir]=z.useState(!1),[Ae,dr]=z.useState("fillInBlank"),[Tn,Sp]=z.useState({}),[au,Ts]=z.useState({}),[lu,ho]=z.useState(null);z.useState("");const[xp,uu]=z.useState("public/lessons"),[kp,cu]=z.useState(""),[du,hu]=z.useState(""),[Ep,fo]=z.useState(!1),[On,Os]=z.useState(!1),[po,jp]=z.useState([]),[Cp,fu]=z.useState(!1),[pu,Ns]=z.useState(""),[ce,Nn]=z.useState(""),Pn=z.useRef(null);Hr.useEffect(()=>{const x=new URLSearchParams(window.location.search).get("lesson");if(x)if(x.length<100&&!x.includes("{"))gu(x);else try{const E=JSON.parse(atob(x));n(E.words),i(E.lessonData),e("preteach")}catch(E){console.error("Error loading lesson from URL:",E)}},[]);const gu=async S=>{try{a(!0),console.log("Loading lesson from Supabase:",S);const x=await Yv(S);if(!x)throw new Error("Lesson not found");console.log("Lesson loaded successfully:",x),n(x.words),i(x.lesson_data),e("preteach"),Os(!1)}catch(x){console.error("Error loading lesson from Supabase:",x),console.error("Lesson ID that failed:",S),console.error("Full error:",JSON.stringify(x,null,2));let E="Could not load lesson.";x.message==="Lesson not found"?E=`Lesson "${S}" not found. It may have been deleted or the link is invalid.`:x.code==="PGRST116"?E=`Lesson "${S}" does not exist in the database.`:E=`Failed to load lesson: ${x.message}

Check the browser console for details.`,alert(E),Os(!0),e("input")}finally{a(!1)}},$r=async(S=ot)=>{try{fu(!0);const x=await Xv(50,S);jp(x)}catch(x){console.error("Error loading lesson library:",x),alert("Could not load lesson library. Please try again.")}finally{fu(!1)}},Tp=async(S,x)=>{if(window.confirm(`Are you sure you want to permanently DELETE "${x}"?

This cannot be undone!`))try{console.log("Attempting to delete lesson:",S);const E=await tw(S);console.log("Delete result:",E),alert(` Lesson "${x}" has been deleted.`),await $r(ot)}catch(E){console.error("Error deleting lesson:",E),console.error("Error details:",JSON.stringify(E,null,2)),alert(`Failed to delete lesson: ${E.message}

Check the console for more details.

This is likely a Supabase permissions issue.`)}},Op=async(S,x)=>{try{await Zv(S),alert(` Lesson "${x}" has been archived.`),await $r(ot)}catch(E){console.error("Error archiving lesson:",E),alert(`Failed to archive lesson: ${E.message}`)}},Np=async(S,x)=>{try{await ew(S),alert(` Lesson "${x}" has been restored from archive.`),await $r(ot)}catch(E){console.error("Error unarchiving lesson:",E),alert(`Failed to unarchive lesson: ${E.message}`)}};Hr.useEffect(()=>{$r(),Os(!0)},[]),Hr.useEffect(()=>{if(s&&(Object.keys(l).length>0||Object.keys(v).length>0)&&typeof window.storage<"u")try{const S=`progress:${JSON.stringify(s.words.map(E=>E.word))}`,x={practiceAnswers:l,matchingAnswers:v,lastUpdated:new Date().toISOString()};window.storage.set(S,JSON.stringify(x)),console.log("Student progress auto-saved")}catch(S){console.error("Error auto-saving progress:",S)}},[l,v,s]),Hr.useEffect(()=>{if(!(!s||!r||o))return Pn.current&&clearTimeout(Pn.current),Pn.current=setTimeout(async()=>{try{Nn("saving"),console.log("Auto-saving lesson changes to Supabase..."),await sd(r,s),Nn("saved"),console.log("Lesson auto-saved successfully"),setTimeout(()=>Nn(""),3e3)}catch(S){console.error("Error auto-saving lesson:",S),Nn("error"),setTimeout(()=>Nn(""),5e3)}},2e3),()=>{Pn.current&&clearTimeout(Pn.current)}},[s,r,o]),Hr.useEffect(()=>{if(t==="practice"&&s&&N.length===0){const S=[],x=s.words;console.log("Initializing matching game with vocab words only:",x.length);for(let E=0;E<x.length;E+=4){const O=[x[E],x[E+1],x[E+2],x[E+3]].filter(Boolean);O.length>=2&&S.push(O.sort(()=>Math.random()-.5))}console.log("Created matching groups:",S),S.length>0?(B(S),X(0)):console.error("No matching groups created!")}},[t,s]);const go=async()=>{if(!s)return;const S={name:`Lesson - ${s.words.slice(0,3).map(x=>x.word).join(", ")}...`,date:new Date().toISOString(),words:r,lessonData:s};try{if("showSaveFilePicker"in window){const E=await(await window.showSaveFilePicker({suggestedName:`${S.name.replace(/[^a-z0-9]/gi,"_")}.json`,types:[{description:"Vocabulary Lesson",accept:{"application/json":[".json"]}}]})).createWritable();await E.write(JSON.stringify(S,null,2)),await E.close(),alert(" Lesson exported successfully!")}else{const x=new Blob([JSON.stringify(S,null,2)],{type:"application/json"}),E=URL.createObjectURL(x),O=document.createElement("a");O.href=E,O.download=`${S.name.replace(/[^a-z0-9]/gi,"_")}.json`,O.click(),URL.revokeObjectURL(E),alert(" Lesson downloaded!")}}catch(x){if(x.name==="AbortError"){console.log("User cancelled export");return}console.error("Error exporting lesson:",x),alert("Error exporting lesson: "+x.message)}},Pp=()=>{let x=new URLSearchParams(window.location.search).get("lesson");(!x||x.length>100)&&(x=r.split(`
`).filter(D=>D.trim()).slice(0,3).map(D=>D.trim().toLowerCase().replace(/[^a-z0-9]/g,"-")).join("-").substring(0,50));const E=r.split(`
`).filter(D=>D.trim()).slice(0,3),O={id:x,name:`Lesson - ${E.join(", ")}`,description:`Vocabulary lesson with ${s.words.length} words`,words:r,lessonData:s},L=`${window.location.origin}${window.location.pathname}?lesson=${x}`;window.currentLessonForDownload=O,Ar(L),Ir(!0)},Rp=()=>{navigator.clipboard.writeText(ue).then(()=>{alert("Link copied to clipboard! Share this with your students.")}).catch(S=>{console.error("Failed to copy:",S)})},Ap=async(S,x,E,O)=>{var D;if(!O||!O.trim()){Ts(F=>({...F,[S]:"Please write an answer first!"}));return}ho(S);const L={}.VITE_OPENAI_API_KEY;if(console.log("Checking answer for question:",S),console.log("OpenAI API key available:",!!L),!L||L==="your_openai_key_here"){Ts(F=>({...F,[S]:"OpenAI API key not found. Please add VITE_OPENAI_API_KEY to your .env file."})),ho(null);return}try{const F=`You are a supportive teacher helping a 6th grade student who reads at a 3rd grade level.

Question: ${x}
Sample Answer: ${E}
Student's Answer: ${O}

Give brief, encouraging feedback (2-3 short sentences). Use simple 3rd grade level words. If the answer is good, praise it. If it needs help, give one easy hint.

Be warm and use very simple language.`;console.log("Sending prompt to OpenAI GPT-4o...");const re=await fetch("https://api.openai.com/v1/chat/completions",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify({model:"gpt-4o",messages:[{role:"user",content:F}],temperature:.7,max_tokens:150})});if(console.log("Response status:",re.status),!re.ok){const Fe=await re.json();throw console.error("OpenAI API error:",re.status,Fe),new Error(`API error: ${re.status} - ${((D=Fe.error)==null?void 0:D.message)||"Unknown error"}`)}const H=await re.json();if(console.log("OpenAI response:",H),!H.choices||!H.choices[0]||!H.choices[0].message)throw console.error("No choices in response:",H),new Error("No response from OpenAI");const Ie=H.choices[0].message.content.trim();console.log("Feedback received:",Ie),Ts(Fe=>({...Fe,[S]:Ie}))}catch(F){console.error("Error checking answer:",F),console.error("Error details:",F.message),Ts(re=>({...re,[S]:"Sorry, I had trouble checking your answer. Please try again!"}))}ho(null)},Ip=(S,x)=>{const E=[...s.words];E[S].definition=x,i({...s,words:E}),j(null),T("")},$p=(S,x)=>{const E=[...s.words];E[S].examples=x.filter(O=>O.trim()),i({...s,words:E}),W(null),ye([])},Lp=async(S,x)=>{var O;const E=(O=S.clipboardData)==null?void 0:O.items;if(E){for(let L of E)if(L.type.indexOf("image")!==-1){const D=L.getAsFile(),F=new FileReader;F.onload=re=>{const H=[...s.words];H[x].image=re.target.result,i({...s,words:H}),f(null)},F.readAsDataURL(D);return}}},Up=(S,x)=>{var L;const E=(L=S.target.files)==null?void 0:L[0];if(!E)return;const O=new FileReader;O.onload=D=>{const F=[...s.words];F[x].image=D.target.result,i({...s,words:F}),f(null)},O.readAsDataURL(E)},Dp=(S,x)=>{if(console.log("Update image called:",S,x),!x||!x.trim()){alert("Please enter a valid image URL");return}const E=[...s.words];E[S].image=x,i({...s,words:E}),f(null),y("")},Bp=()=>{if(console.log("handleCreateLesson called"),console.log("GitHub token exists:",!!{}.VITE_GITHUB_TOKEN),{}.VITE_GITHUB_TOKEN){const S=r.split(`
`).filter(O=>O.trim()).slice(0,10),x=S.join("-").toLowerCase().replace(/[^a-z0-9-]/g,""),E=`Lesson - ${S.slice(0,3).join(", ")}${S.length>3?"...":""}`;console.log("Setting dialog values:",{defaultName:E,defaultId:x}),hu(E),cu(`${x}.json`),uu("public/lessons"),fo(!0),console.log("Dialog should be visible now")}else console.log("No GitHub token, generating directly"),mu()},mu=async()=>{var D,F,re;a(!0);const S=r.split(`
`).filter(H=>H.trim()).slice(0,10),x={}.VITE_GOOGLE_API_KEY;if(!x){alert("Please add your Google API key to the .env file. Get one free at: https://aistudio.google.com/app/apikey"),a(!1);return}let E=3,O=null,L=3;for(;E>0&&!O;)try{const H=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash:generateContent?key=${x}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`Create a vocabulary lesson for a 6th grade autistic student (11-12 years old) reading at 2nd-3rd grade level. 

Words: ${S.join(", ")}

Return a valid JSON object with this EXACT structure (no extra text, no markdown):

{
  "words": [
    {
      "word": "word",
      "definition": "clear simple definition for 6th grader",
      "examples": ["Short 5-8 word sentence.", "Another short 5-8 word sentence."],
      "partOfSpeech": "noun"
    }
  ],
  "distractors": ["distractor1", "distractor2", "distractor3"],
  "story": {
    "title": "Engaging story title for middle school",
    "text": "150-200 word story naturally using all vocabulary words multiple times. Use varied themes like adventure, mystery, sports, science, friendship, or school life - appropriate for 6th grade. Make it engaging and relatable for 11-12 year olds."
  },
  "practice": {
    "fillInBlank": [
      {"sentence": "The student was very ___.", "answer": "word", "options": ["word1", "word2", "word3"]}
    ],
    "comprehension": [
      {"question": "Identification question about the story", "answer": "sample answer"},
      {"question": "Another identification question", "answer": "sample answer"},
      {"question": "Question about a character in the story", "answer": "sample answer"},
      {"question": "Question about another character", "answer": "sample answer"},
      {"question": "Question about the theme or lesson", "answer": "sample answer"}
    ]
  }
}

RULES:
- Include exactly 3 "distractors" - simple words NOT in the vocabulary list
- partOfSpeech must be ONE word: "noun", "verb", "adjective", or "adverb"
- Examples must be SHORT (5-8 words) and age-appropriate
- Create ONE fill-in-the-blank question for EACH vocabulary word (${S.length} total questions)
- Each fillInBlank question must have 3 options: the correct answer plus 2 other vocabulary words
- Create EXACTLY 5 comprehension questions: 2 identification questions (about events/settings/objects), 2 character questions (about motivations/actions/feelings), and 1 theme question (about the main lesson/message)
- NO trailing commas in arrays or objects
- Return ONLY valid JSON`}]}],generationConfig:{temperature:.7,maxOutputTokens:4e3,responseMimeType:"application/json"}})});if(!H.ok){const q=await H.json();throw console.error("Gemini API error:",H.status,q),new Error(`Gemini API error: ${H.status} - ${JSON.stringify(q)}`)}const Ie=await H.json();if(!Ie.candidates||!Ie.candidates[0])throw console.error("No candidates in response:",Ie),new Error("No response from Gemini API");const Fe=Ie.candidates[0].content.parts[0].text;console.log("Raw AI response (attempt "+(4-E)+"):",Fe);let ne=Fe.trim();ne=ne.replace(/```json\s*/g,""),ne=ne.replace(/```\s*/g,"");const wt=ne.indexOf("{");if(wt>0)ne=ne.substring(wt);else if(wt===-1){if(E--,E>0){console.log("No JSON found, retrying..."),await new Promise(q=>setTimeout(q,1e3));continue}throw new Error("No JSON object found in response after multiple attempts.")}const Tt=ne.lastIndexOf("}");Tt>0&&Tt<ne.length-1&&(ne=ne.substring(0,Tt+1)),ne=ne.replace(/,(\s*[}\]])/g,"$1"),console.log("Cleaned content:",ne);try{if(O=JSON.parse(ne),console.log("Successfully parsed JSON!"),!((D=O.practice)!=null&&D.comprehension)||O.practice.comprehension.length!==5)if(console.warn(`Expected 5 comprehension questions, got ${((re=(F=O.practice)==null?void 0:F.comprehension)==null?void 0:re.length)||0}`),L>0){L--,E--,console.log(`Retrying due to incorrect number of comprehension questions... (${L} validation retries left)`),O=null,await new Promise(q=>setTimeout(q,1e3));continue}else console.error("Failed to get exactly 5 comprehension questions after multiple attempts")}catch(q){console.error("JSON Parse Error:",q),console.error("Failed to parse:",ne);const J=q.message.match(/position (\d+)/);if(J){const _t=parseInt(J[1]),Ps=ne.substring(Math.max(0,_t-50),Math.min(ne.length,_t+50));console.error("Error near:",Ps)}if(E--,E>0){console.log("JSON parse failed, retrying... ("+E+" attempts left)"),await new Promise(_t=>setTimeout(_t,1e3));continue}throw new Error(`Invalid JSON from AI after multiple attempts: ${q.message}

Please try again.`)}}catch(H){if(E===1){a(!1),alert(`Error generating lesson: ${H.message}

Please check:
1. Your API key is correct
2. You have internet connection
3. The Gemini API is enabled for your key`);return}E--,console.log("Error occurred, retrying... ("+E+" attempts left)"),await new Promise(Ie=>setTimeout(Ie,1e3));continue}if(!O){a(!1),alert("Failed to generate lesson after multiple attempts. Please try again.");return}try{const H=[],Ie=O.words.length;let Fe=0;for(let q=0;q<O.words.length;q++){const J=O.words[q];Fe++,co({current:Fe,total:Ie,word:J.word});const _t=J.examples[0]||J.word,Ps=`Create a graphic novel style illustration for the vocabulary word "${J.word}" which means "${J.definition}".

Scene to show: ${_t}

Style: GRAPHIC NOVEL / COMIC BOOK ART with bold ink lines, dynamic angles, and high contrast. Use clean linework, solid colors with cel-shading, and dramatic composition like you'd see in a modern graphic novel or comic book. Age-appropriate for 6th grade middle schoolers.

Make the main concept VERY OBVIOUS and CENTERED in the image - avoid ambiguous or background details. If illustrating "${J.word}", emphasize the action or object that represents this word clearly and prominently. Show whatever best illustrates the meaning - this could be one person, multiple people, or no people at all. Avoid stereotypes.

IMPORTANT: Do NOT include any text, words, letters, sound effects (like "POW!" or "BANG!"), speech bubbles, or labels in the image. The image must be purely visual with no written text of any kind.`,Rs=async Ve=>{const $e={}.VITE_OPENAI_API_KEY;if(!$e||$e==="your_openai_key_here")throw new Error(`Nano Banana failed (${Ve}) and no OpenAI API key configured`);console.log(`Nano Banana failed (${Ve}), trying OpenAI gpt-image-1-mini for "${J.word}"`);const Xe=await fetch("https://api.openai.com/v1/images/generations",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$e}`},body:JSON.stringify({model:"gpt-image-1-mini",prompt:Ps,size:"1024x1024",quality:"standard"})});if(!Xe.ok){const Ur=await Xe.json().catch(()=>({}));throw new Error(`OpenAI also failed: ${Xe.status} - ${JSON.stringify(Ur)}`)}const Lr=await Xe.json();if(console.log("OpenAI response:",Lr),!Lr.data||!Lr.data[0]||!Lr.data[0].url)throw new Error("OpenAI returned invalid response - no image URL");return console.log(` OpenAI image generated successfully for "${J.word}"`),Lr.data[0].url};try{console.log(`Generating image ${q+1}/${O.words.length} for "${J.word}" using Nano Banana`),q>0&&await new Promise($e=>setTimeout($e,12e3));let Ve=null;try{const $e=await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-image:generateContent?key=${x}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:Ps}]}],generationConfig:{temperature:.8,maxOutputTokens:8192}})});if($e.ok){const Xe=await $e.json();if(console.log(`Image response for "${J.word}":`,Xe),Xe.candidates&&Xe.candidates[0]&&Xe.candidates[0].content){const Ur=Xe.candidates[0].content.parts.find(vu=>vu.inlineData&&vu.inlineData.mimeType.startsWith("image/"));Ur&&Ur.inlineData?(Ve=`data:${Ur.inlineData.mimeType};base64,${Ur.inlineData.data}`,console.log(` Nano Banana image generated successfully for "${J.word}"`)):(console.warn(`No image data in Nano Banana response for "${J.word}"`),Ve=await Rs("no image data in response"))}else console.warn(`Invalid response structure from Nano Banana for "${J.word}"`),Ve=await Rs("invalid response structure")}else{const Xe=await $e.json().catch(()=>({}));console.error(`Nano Banana error for "${J.word}":`,$e.status,Xe),Ve=await Rs(`HTTP ${$e.status}`)}}catch($e){console.error(`Nano Banana exception for "${J.word}":`,$e),Ve=await Rs("exception: "+$e.message)}if(Ve)H.push({...J,image:Ve});else throw new Error(`Failed to generate image for "${J.word}" - both Nano Banana and OpenAI failed`)}catch(Ve){throw console.error(`FATAL: Could not generate image for "${J.word}":`,Ve),new Error(`Image generation failed for "${J.word}": ${Ve.message}`)}}const ne=r.split(`
`).filter(q=>q.trim()).slice(0,3).map(q=>q.trim().toLowerCase().replace(/[^a-z0-9]/g,"-")).join("-").substring(0,50);console.log("Uploading images to Supabase Storage..."),Ns("Uploading images to storage...");const wt=[];for(let q=0;q<H.length;q++){const J=H[q];try{const _t=await Gv(J.image,ne,q);wt.push({...J,image:_t}),console.log(` Uploaded image ${q+1}/${H.length} to storage`)}catch(_t){console.error(`Error uploading image for "${J.word}":`,_t),wt.push(J)}}const Tt={...O,words:wt};try{Ns("Saving lesson to database...");const{lessonId:q}=await sd(r,Tt);Ns(` Lesson saved! Share URL: ${window.location.origin}?lesson=${q}`),window.history.pushState({},"",`?lesson=${q}`),i(Tt)}catch(q){console.error("Error saving to Supabase:",q),Ns(` Save failed: ${q.message}`),i(Tt)}e("preteach")}catch(H){console.error("Error generating images:",H),alert(`Error generating images: ${H.message}

The lesson text was created, but image generation failed.`)}a(!1)},zp=S=>({noun:"bg-blue-100 text-blue-800 border-blue-300",verb:"bg-red-100 text-red-800 border-red-300",adjective:"bg-green-100 text-green-800 border-green-300"})[S]||"bg-gray-100 text-gray-800 border-gray-300",Mp=(S,x)=>{u(E=>({...E,[S]:x}))},Fp=()=>Ep?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-8 max-w-md w-full mx-4",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Name Your Lesson"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Customize your lesson details before creation:"}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Lesson Name: *"}),h.jsx("input",{type:"text",value:du,onChange:S=>hu(S.target.value),placeholder:"My Awesome Vocabulary Lesson",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"This name will appear in your lesson list"})]}),h.jsxs("div",{className:"mb-4",children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Directory Path:"}),h.jsx("input",{type:"text",value:xp,onChange:S=>uu(S.target.value),placeholder:"public/lessons",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"e.g., public/lessons/animals or public/lessons/grade-1"})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Filename:"}),h.jsx("input",{type:"text",value:kp,onChange:S=>cu(S.target.value),placeholder:"my-lesson.json",className:"w-full px-4 py-2 border-2 border-gray-300 rounded-lg focus:border-blue-500 focus:outline-none"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Must end with .json (auto-added if missing)"})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:()=>fo(!1),className:"flex-1 bg-gray-300 text-gray-700 py-3 px-6 rounded-lg font-semibold hover:bg-gray-400 transition",children:"Cancel"}),h.jsx("button",{onClick:()=>{if(!du.trim()){alert("Please enter a lesson name");return}fo(!1),mu()},className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Create Lesson"})]})]})}):null;if(t==="input")return h.jsxs(h.Fragment,{children:[Fp(),h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-8",children:h.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-lg shadow-lg p-8",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[h.jsx(Tc,{className:"w-8 h-8 text-blue-600"}),h.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Vocabulary Lesson Builder"})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("div",{className:"flex gap-3 mb-3",children:h.jsxs("button",{onClick:()=>{Os(!On),On||$r()},className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg text-lg font-semibold hover:bg-blue-700 transition flex items-center justify-center gap-2",children:[h.jsx(Nc,{className:"w-5 h-5"}),On?"Hide Lessons":"Browse All Lessons"]})}),On&&h.jsx(h.Fragment,{children:h.jsxs("div",{className:"mb-3 flex items-center gap-2 bg-white p-3 rounded-lg border-2 border-gray-300",children:[h.jsx("input",{type:"checkbox",id:"showArchived",checked:ot,onChange:S=>{const x=S.target.checked;ur(x),$r(x)},className:"w-5 h-5 text-blue-600 rounded"}),h.jsx("label",{htmlFor:"showArchived",className:"text-sm font-semibold text-gray-700 cursor-pointer",children:"Show archived lessons"})]})}),On&&h.jsx("div",{className:"border-2 border-blue-300 rounded-lg p-4 max-h-96 overflow-y-auto mt-4 bg-blue-50",children:Cp?h.jsxs("div",{className:"text-center py-8",children:[h.jsx(Br,{className:"w-8 h-8 text-blue-600 animate-spin mx-auto mb-2"}),h.jsx("p",{className:"text-gray-600",children:"Loading lessons from database..."})]}):po.length===0?h.jsx("p",{className:"text-gray-500 text-center",children:"No lessons in the library yet. Create your first lesson!"}):h.jsxs("div",{className:"space-y-3",children:[h.jsxs("h3",{className:"font-bold text-lg text-blue-800 mb-3 flex items-center gap-2",children:[h.jsx(Nc,{className:"w-5 h-5"}),"All Lessons (",po.length,")"]}),po.map(S=>h.jsx("div",{className:`bg-white p-4 rounded-lg border ${S.archived?"border-orange-300 bg-orange-50":"border-blue-200"} hover:border-blue-400 transition`,children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("h3",{className:"font-bold text-lg text-gray-800",children:S.title}),S.archived&&h.jsx("span",{className:"text-xs bg-orange-200 text-orange-800 px-2 py-1 rounded font-semibold",children:"ARCHIVED"})]}),h.jsx("p",{className:"text-sm text-gray-600",children:new Date(S.created_at).toLocaleDateString()}),h.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Views: ",S.view_count||0]})]}),h.jsxs("div",{className:"flex flex-wrap gap-2 ml-4",children:[h.jsx("button",{onClick:()=>gu(S.lesson_id),className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 text-sm font-semibold",children:"Load"}),h.jsxs("button",{onClick:()=>{const x=`${window.location.origin}?lesson=${S.lesson_id}`;navigator.clipboard.writeText(x),alert(`Link copied!
${x}`)},className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 text-sm font-semibold flex items-center gap-1",children:[h.jsx(Oc,{className:"w-4 h-4"}),"Share"]}),S.archived?h.jsxs("button",{onClick:()=>Np(S.lesson_id,S.title),className:"bg-yellow-600 text-white px-4 py-2 rounded hover:bg-yellow-700 text-sm font-semibold flex items-center gap-1",title:"Restore from archive",children:[h.jsx(_0,{className:"w-4 h-4"}),"Restore"]}):h.jsxs("button",{onClick:()=>Op(S.lesson_id,S.title),className:"bg-orange-600 text-white px-4 py-2 rounded hover:bg-orange-700 text-sm font-semibold flex items-center gap-1",title:"Archive this lesson",children:[h.jsx(b0,{className:"w-4 h-4"}),"Archive"]}),h.jsxs("button",{onClick:()=>Tp(S.lesson_id,S.title),className:"bg-red-600 text-white px-4 py-2 rounded hover:bg-red-700 text-sm font-semibold flex items-center gap-1",title:"Permanently delete this lesson",children:[h.jsx(k0,{className:"w-4 h-4"}),"Delete"]})]})]})},S.id))]})})]}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-lg font-semibold text-gray-700 mb-2",children:"Enter Vocabulary Words (one per line, up to 10):"}),h.jsx("textarea",{className:"w-full h-48 p-4 border-2 border-gray-300 rounded-lg text-lg focus:border-blue-500 focus:outline-none",value:r,onChange:S=>n(S.target.value),placeholder:`brave
rescue
danger
hero
adventure`})]}),pu&&h.jsx("div",{className:"mb-6 p-4 bg-green-50 border-2 border-green-300 rounded-lg",children:h.jsx("p",{className:"text-sm font-semibold text-green-700",children:pu})}),h.jsx("button",{onClick:Bp,disabled:!r.trim()||o,className:"w-full bg-blue-600 text-white py-4 px-6 rounded-lg text-xl font-semibold hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition",children:o?h.jsxs("span",{className:"flex items-center justify-center gap-2",children:[h.jsx(Br,{className:"w-6 h-6 animate-spin"}),"Creating Lesson... Please wait"]}):"Create Lesson"}),o&&h.jsxs("div",{className:"mt-4 p-4 bg-blue-50 border-2 border-blue-300 rounded-lg",children:[h.jsx("p",{className:"text-center text-blue-800 font-semibold",children:Me.total===0?" Generating vocabulary lesson with Google Gemini...":` Creating custom AI image ${Me.current} of ${Me.total} for "${Me.word}"...`}),h.jsx("p",{className:"text-center text-blue-600 text-sm mt-2",children:Me.total===0?"This should take about 5-10 seconds...":`Generating high-quality Nano Banana images... (${Math.round(Me.current/Me.total*100)}% complete)`}),Me.total>0&&h.jsx("div",{className:"w-full bg-gray-200 rounded-full h-4 mt-3",children:h.jsx("div",{className:"bg-blue-600 h-4 rounded-full transition-all duration-500",style:{width:`${Me.current/Me.total*100}%`}})})]})]})})]});if(t==="preteach"&&s)return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-8",children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-6",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Pre-Teaching Vocabulary"}),h.jsx("p",{className:"text-gray-600",children:"Learn these words before reading the story!"})]}),ce&&h.jsxs("div",{className:`px-4 py-2 rounded-lg font-semibold text-sm flex items-center gap-2 ${ce==="saving"?"bg-blue-100 text-blue-800":ce==="saved"?"bg-green-100 text-green-800":ce==="error"?"bg-red-100 text-red-800":""}`,children:[ce==="saving"&&h.jsxs(h.Fragment,{children:[h.jsx(Br,{className:"w-4 h-4 animate-spin"}),"Saving..."]}),ce==="saved"&&h.jsxs(h.Fragment,{children:[h.jsx(Fo,{className:"w-4 h-4"}),"Saved"]}),ce==="error"&&h.jsx(h.Fragment,{children:" Save failed"})]})]}),h.jsxs("div",{className:"flex gap-3 mb-4",children:[h.jsxs("button",{onClick:Pp,className:"flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 flex items-center justify-center gap-2",children:[h.jsx(x0,{className:"w-5 h-5"}),"Share Link for Students"]}),h.jsx("button",{onClick:go,className:"bg-green-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-green-700 flex items-center gap-2",children:" Export to File"})]}),Ct&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:h.jsxs("div",{className:"bg-white rounded-lg p-8 max-w-3xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Share This Lesson"}),h.jsxs("div",{className:"mb-6",children:[h.jsx("h3",{className:"font-semibold text-lg mb-2",children:" Short Share Link (Recommended)"}),h.jsx("p",{className:"text-gray-600 text-sm mb-3",children:"To use this short link, you need to deploy your lesson to GitHub:"}),h.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border-2 border-blue-300 mb-3",children:h.jsx("code",{className:"text-sm text-gray-700 break-all",children:ue})}),h.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg border border-yellow-300 text-sm mb-3",children:[h.jsx("p",{className:"font-semibold mb-2",children:" To deploy this lesson:"}),h.jsxs("ol",{className:"list-decimal ml-5 space-y-1",children:[h.jsx("li",{children:'Click "Download Lesson File" below'}),h.jsxs("li",{children:["Add the file to your ",h.jsx("code",{className:"bg-white px-1 rounded",children:"public/lessons/"})," folder"]}),h.jsx("li",{children:"Commit and push to GitHub"}),h.jsx("li",{children:"Deploy via GitHub Pages, Netlify, or Vercel"}),h.jsx("li",{children:"Share the short link with students!"})]})]}),h.jsx("button",{onClick:()=>{const S=window.currentLessonForDownload,x=new Blob([JSON.stringify(S,null,2)],{type:"application/json"}),E=URL.createObjectURL(x),O=document.createElement("a");O.href=E,O.download=`${S.id}.json`,O.click(),URL.revokeObjectURL(E)},className:"w-full bg-green-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-green-700 mb-4",children:" Download Lesson File for GitHub"})]}),h.jsxs("div",{className:"flex gap-3",children:[h.jsxs("button",{onClick:Rp,className:"flex-1 bg-blue-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-blue-700 flex items-center justify-center gap-2",children:[h.jsx(Oc,{className:"w-5 h-5"}),"Copy Short Link"]}),h.jsx("button",{onClick:()=>Ir(!1),className:"flex-1 bg-gray-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-gray-700",children:"Close"})]})]})})]}),h.jsx("div",{className:"flex justify-center gap-2 mb-6",children:s.words.map((S,x)=>h.jsxs("button",{onClick:()=>cr(x),className:`px-4 py-2 rounded-lg font-semibold transition ${vt===x?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-100"}`,children:[x+1,". ",S.word]},x))}),s.words.map((S,x)=>vt===x&&h.jsx("div",{className:`bg-white rounded-lg shadow-2xl p-8 border-4 ${zp(S.partOfSpeech)} mb-6`,children:h.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[h.jsxs("div",{className:"relative flex-1",children:[h.jsx("img",{src:S.image,alt:S.word,className:"w-full h-auto max-h-[70vh] object-contain rounded-lg"}),h.jsxs("button",{onClick:()=>{f(x),y(S.image)},className:"absolute top-2 right-2 bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:[h.jsx(S0,{className:"w-4 h-4 inline mr-1"}),"Edit"]}),c===x&&h.jsxs("div",{className:"absolute top-0 left-0 w-full bg-white p-4 rounded-lg shadow-xl border-2 border-blue-500 z-10",children:[h.jsx("p",{className:"font-semibold mb-2",children:"Add Image:"}),h.jsxs("div",{className:"mb-3 p-3 bg-blue-50 border border-blue-200 rounded",children:[h.jsx("p",{className:"text-sm font-semibold mb-1",children:" Paste Image:"}),h.jsx("input",{type:"text",onPaste:E=>Lp(E,x),placeholder:"Right-click here and paste (Ctrl+V)",className:"w-full p-2 border-2 border-blue-300 rounded"})]}),h.jsxs("div",{className:"mb-3 p-3 bg-green-50 border border-green-200 rounded",children:[h.jsx("p",{className:"text-sm font-semibold mb-1",children:" Upload Image:"}),h.jsx("input",{type:"file",accept:"image/*",onChange:E=>Up(E,x),className:"w-full text-sm"})]}),h.jsxs("div",{className:"mb-2 p-3 bg-gray-50 border border-gray-200 rounded",children:[h.jsx("p",{className:"text-sm font-semibold mb-1",children:" Or paste URL:"}),h.jsx("input",{type:"text",value:d,onChange:E=>y(E.target.value),className:"w-full p-2 border-2 border-gray-300 rounded mb-2",placeholder:"https://example.com/image.jpg"}),h.jsx("button",{onClick:()=>Dp(x,d),className:"w-full bg-green-600 text-white px-3 py-2 rounded hover:bg-green-700",children:"Save URL"})]}),h.jsx("button",{onClick:()=>{f(null),y("")},className:"w-full bg-gray-600 text-white px-3 py-2 rounded hover:bg-gray-700 mt-2",children:"Cancel"})]})]}),h.jsxs("div",{className:"flex-1 flex flex-col",children:[h.jsx("h2",{className:"text-5xl font-bold mb-3",children:S.word}),h.jsx("p",{className:"text-lg uppercase font-semibold mb-4 opacity-70",children:S.partOfSpeech}),h.jsx("div",{className:"mb-4",children:_===x?h.jsxs("div",{children:[h.jsx("textarea",{value:C,onChange:E=>T(E.target.value),className:"w-full p-3 border-2 border-blue-300 rounded-lg text-lg mb-2",rows:"2"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>Ip(x,C),className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 text-sm",children:"Save"}),h.jsx("button",{onClick:()=>{j(null),T("")},className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 text-sm",children:"Cancel"})]})]}):h.jsxs("div",{className:"flex items-start gap-2",children:[h.jsx("p",{className:"text-2xl flex-1",children:S.definition}),h.jsx("button",{onClick:()=>{j(x),T(S.definition)},className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:"Edit"})]})}),h.jsxs("div",{className:"space-y-3 mb-6",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("p",{className:"font-semibold text-gray-700 text-xl",children:"Examples:"}),R!==x&&h.jsx("button",{onClick:()=>{W(x),ye([...S.examples])},className:"bg-blue-600 text-white px-3 py-1 rounded text-sm hover:bg-blue-700",children:"Edit"})]}),R===x?h.jsxs("div",{className:"space-y-2",children:[M.map((E,O)=>h.jsxs("div",{className:"flex gap-2",children:[h.jsx("input",{type:"text",value:E,onChange:L=>{const D=[...M];D[O]=L.target.value,ye(D)},className:"flex-1 p-2 border-2 border-blue-300 rounded-lg text-lg"}),h.jsx("button",{onClick:()=>{const L=M.filter((D,F)=>F!==O);ye(L)},className:"bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600 text-sm",children:""})]},O)),h.jsx("button",{onClick:()=>ye([...M,""]),className:"text-blue-600 hover:text-blue-800 text-sm",children:"+ Add example"}),h.jsxs("div",{className:"flex gap-2 mt-2",children:[h.jsx("button",{onClick:()=>$p(x,M),className:"bg-green-600 text-white px-4 py-2 rounded hover:bg-green-700 text-sm",children:"Save"}),h.jsx("button",{onClick:()=>{W(null),ye([])},className:"bg-gray-600 text-white px-4 py-2 rounded hover:bg-gray-700 text-sm",children:"Cancel"})]})]}):S.examples.map((E,O)=>h.jsxs("p",{className:"text-xl text-gray-600",children:[" ",E]},O))]}),h.jsxs("div",{className:"flex gap-4 mt-auto pt-6",children:[h.jsx("button",{onClick:()=>cr(Math.max(0,vt-1)),disabled:vt===0,className:"flex-1 bg-gray-600 text-white py-3 px-6 rounded-lg text-lg font-semibold hover:bg-gray-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition",children:" Previous"}),h.jsx("button",{onClick:()=>cr(Math.min(s.words.length-1,vt+1)),disabled:vt===s.words.length-1,className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-lg text-lg font-semibold hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition",children:"Next "})]})]})]})},x)),h.jsx("button",{onClick:()=>e("story"),className:"w-full mt-8 bg-green-600 text-white py-4 px-6 rounded-lg text-xl font-semibold hover:bg-green-700 transition",children:"Read the Story "})]})});if(t==="story"&&s){const x=(E=>{let O=E;return s.words.forEach(L=>{const D=L.word,F=new RegExp(`\\*\\*(${D})\\*\\*`,"gi");O=O.replace(F,"$1");const re=new RegExp(`\\b(${D})\\b`,"gi");O=O.replace(re,"<strong>$1</strong>")}),O})(s.story.text);return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-yellow-50 to-orange-50 p-8",children:h.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-lg shadow-lg p-8",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h1",{className:"text-4xl font-bold text-gray-800",children:s.story.title}),h.jsxs("div",{className:"flex items-center gap-3",children:[ce&&h.jsxs("div",{className:`px-3 py-1 rounded-lg font-semibold text-sm flex items-center gap-2 ${ce==="saving"?"bg-blue-100 text-blue-800":ce==="saved"?"bg-green-100 text-green-800":ce==="error"?"bg-red-100 text-red-800":""}`,children:[ce==="saving"&&h.jsxs(h.Fragment,{children:[h.jsx(Br,{className:"w-3 h-3 animate-spin"}),"Saving..."]}),ce==="saved"&&h.jsxs(h.Fragment,{children:[h.jsx(Fo,{className:"w-3 h-3"}),"Saved"]}),ce==="error"&&" Save failed"]}),h.jsx("button",{onClick:go,className:"bg-green-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-green-700 flex items-center gap-2",children:" Export"})]})]}),h.jsx("div",{className:"prose prose-lg max-w-none",children:h.jsx("p",{className:"text-xl leading-relaxed text-gray-700 whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:x}})}),h.jsx("button",{onClick:()=>e("practice"),className:"w-full mt-8 bg-purple-600 text-white py-4 px-6 rounded-lg text-xl font-semibold hover:bg-purple-700 transition",children:"Practice Activities "})]})})}if(t==="practice"&&s){const S=s.practice.fillInBlank.every((O,L)=>l[`fib-${L}`]===O.answer),x=(yu=N[$])==null?void 0:yu.every((O,L)=>{var F;const D=`${$}-${L}`;return(F=v[D])==null?void 0:F.isCorrect}),E=N.every((O,L)=>O.every((D,F)=>{var H;const re=`${L}-${F}`;return(H=v[re])==null?void 0:H.isCorrect}));return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-teal-50 p-8",children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsx("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-6",children:h.jsxs("div",{className:"flex justify-between items-start",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"Practice Activities"}),h.jsxs("div",{className:"flex gap-2 mt-2",children:[h.jsx("span",{className:`px-3 py-1 rounded text-sm font-semibold ${Ae==="fillInBlank"?"bg-blue-600 text-white":S?"bg-green-200 text-green-800":"bg-gray-200 text-gray-600"}`,children:"1. Fill in the Blank"}),h.jsx("span",{className:`px-3 py-1 rounded text-sm font-semibold ${Ae==="matching"?"bg-blue-600 text-white":E?"bg-green-200 text-green-800":"bg-gray-200 text-gray-600"}`,children:"2. Matching"}),h.jsx("span",{className:`px-3 py-1 rounded text-sm font-semibold ${Ae==="comprehension"?"bg-blue-600 text-white":"bg-gray-200 text-gray-600"}`,children:"3. Comprehension"})]})]}),h.jsxs("div",{className:"flex items-start gap-3",children:[ce&&h.jsxs("div",{className:`px-3 py-1 rounded-lg font-semibold text-sm flex items-center gap-2 ${ce==="saving"?"bg-blue-100 text-blue-800":ce==="saved"?"bg-green-100 text-green-800":ce==="error"?"bg-red-100 text-red-800":""}`,children:[ce==="saving"&&h.jsxs(h.Fragment,{children:[h.jsx(Br,{className:"w-3 h-3 animate-spin"}),"Saving..."]}),ce==="saved"&&h.jsxs(h.Fragment,{children:[h.jsx(Fo,{className:"w-3 h-3"}),"Saved"]}),ce==="error"&&" Save failed"]}),h.jsx("button",{onClick:go,className:"bg-green-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-green-700 flex items-center gap-2",children:" Export"})]})]})}),Ae==="fillInBlank"&&h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Fill in the Blank"}),h.jsx("p",{className:"text-gray-600 mb-6",children:"Choose the correct word to complete each sentence."}),s.practice.fillInBlank.map((O,L)=>h.jsxs("div",{className:"mb-6",children:[h.jsx("p",{className:"text-xl mb-3",children:O.sentence}),h.jsx("div",{className:"flex gap-3 flex-wrap",children:O.options.map((D,F)=>h.jsx("button",{onClick:()=>Mp(`fib-${L}`,D),className:`px-6 py-3 rounded-lg text-lg font-semibold transition ${l[`fib-${L}`]===D?D===O.answer?"bg-green-500 text-white":"bg-red-500 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:D},F))})]},L)),S&&h.jsxs("div",{className:"mt-6 p-4 bg-green-100 border-2 border-green-500 rounded-lg",children:[h.jsx("p",{className:"text-green-800 font-bold text-center mb-3",children:" Great job! All correct!"}),h.jsx("button",{onClick:()=>dr("matching"),className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg text-lg font-semibold hover:bg-blue-700 transition",children:"Continue to Matching Activity "})]})]}),Ae==="matching"&&h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Match Words to Pictures"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"Click a word, then click the picture it matches!"}),N.length>0&&N[$]&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"mb-4 text-center",children:[h.jsxs("p",{className:"text-lg font-semibold text-gray-700",children:["Set ",$+1," of ",N.length]}),h.jsx("div",{className:"flex justify-center gap-2 mt-2",children:N.map((O,L)=>h.jsx("div",{className:`w-3 h-3 rounded-full ${L===$?"bg-blue-600":"bg-gray-300"}`},L))})]}),h.jsxs("div",{className:"mb-6 p-4 bg-gray-50 rounded-lg border-2 border-gray-300",children:[h.jsx("p",{className:"font-semibold mb-3",children:"Word Bank:"}),h.jsx("div",{className:"flex flex-wrap gap-3 justify-center",children:N[$].map((O,L)=>{var F,re;const D=`${$}-${L}`;return h.jsx("button",{onClick:()=>m(O.word),disabled:(F=v[D])==null?void 0:F.isCorrect,className:`px-6 py-3 rounded-lg text-xl font-bold transition ${b===O.word?"bg-blue-600 text-white":(re=v[D])!=null&&re.isCorrect?"bg-green-200 text-green-800 opacity-50 cursor-not-allowed":"bg-white border-2 border-gray-300 hover:border-blue-500"}`,children:O.word},L)})})]}),h.jsx("div",{className:"grid grid-cols-2 gap-4 mb-6",children:N[$].map((O,L)=>{var F,re,H,Ie,Fe,ne;const D=`${$}-${L}`;return h.jsxs("button",{onClick:()=>{if(b){const wt=b===O.word;w(Tt=>({...Tt,[D]:{selectedWord:b,isCorrect:wt}})),wt&&m(null)}},disabled:(F=v[D])==null?void 0:F.isCorrect,className:`border-4 rounded-lg p-4 text-center transition ${(re=v[D])!=null&&re.isCorrect?"border-green-500 bg-green-50":(H=v[D])!=null&&H.selectedWord?"border-red-500 bg-red-50":b?"border-blue-300 hover:border-blue-500 cursor-pointer":"border-gray-300 cursor-not-allowed"}`,children:[h.jsx("img",{src:O.image,alt:"Match me!",className:"w-full h-64 object-contain rounded mb-3 bg-gray-50"}),((Ie=v[D])==null?void 0:Ie.isCorrect)&&h.jsxs("p",{className:"text-2xl font-bold text-green-800",children:[" ",O.word]}),((Fe=v[D])==null?void 0:Fe.selectedWord)&&!((ne=v[D])!=null&&ne.isCorrect)&&h.jsx("p",{className:"text-xl font-bold text-red-800",children:" Try again!"})]},L)})}),h.jsxs("div",{className:"flex gap-4 justify-center",children:[h.jsx("button",{onClick:()=>X(Math.max(0,$-1)),disabled:$===0,className:"bg-gray-600 text-white py-3 px-8 rounded-lg text-lg font-semibold hover:bg-gray-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition",children:" Previous Set"}),h.jsx("button",{onClick:()=>X(Math.min(N.length-1,$+1)),disabled:$===N.length-1,className:"bg-blue-600 text-white py-3 px-8 rounded-lg text-lg font-semibold hover:bg-blue-700 disabled:bg-gray-300 disabled:cursor-not-allowed transition",children:"Next Set "})]}),x&&$===N.length-1&&E&&h.jsxs("div",{className:"mt-6 p-4 bg-green-100 border-2 border-green-500 rounded-lg",children:[h.jsx("p",{className:"text-green-800 font-bold text-center mb-3",children:" Excellent! All matches complete!"}),h.jsx("button",{onClick:()=>dr("comprehension"),className:"w-full bg-blue-600 text-white py-3 px-6 rounded-lg text-lg font-semibold hover:bg-blue-700 transition",children:"Continue to Comprehension Questions "})]})]})]}),Ae==="comprehension"&&h.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-8 mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Story Comprehension"}),h.jsxs("button",{onClick:()=>g(!p),className:"w-full mb-6 bg-blue-600 text-white py-3 px-6 rounded-lg text-lg font-semibold hover:bg-blue-700 transition flex items-center justify-center gap-2",children:[h.jsx(Tc,{className:"w-5 h-5"}),p?"Hide Story":"Show Story"]}),p&&h.jsxs("div",{className:"mb-6 p-6 bg-yellow-50 border-4 border-yellow-300 rounded-lg",children:[h.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-4",children:s.story.title}),h.jsx("p",{className:"text-lg leading-relaxed text-gray-700 whitespace-pre-wrap",children:s.story.text})]}),(()=>{const O=s.practice.comprehension.length;return Object.keys(Tn).filter(F=>Tn[F]&&Tn[F].trim()).length===O&&O>0&&h.jsxs("div",{className:"mb-6 p-6 bg-gradient-to-r from-green-100 to-blue-100 border-4 border-green-500 rounded-lg text-center",children:[h.jsx("div",{className:"text-6xl mb-4",children:""}),h.jsx("h3",{className:"text-3xl font-bold text-green-800 mb-3",children:"Congratulations!"}),h.jsxs("p",{className:"text-xl text-gray-700 mb-4",children:["You've completed all ",O," comprehension questions! Great work!"]}),h.jsx("p",{className:"text-lg text-gray-600",children:"You've finished the entire lesson. Keep up the excellent work! "})]})})(),s.practice.comprehension.map((O,L)=>h.jsxs("div",{className:"mb-8 p-6 bg-gray-50 rounded-lg border-2 border-gray-200",children:[h.jsx("p",{className:"text-xl font-semibold mb-3",children:O.question}),h.jsx("textarea",{className:"w-full p-4 border-2 border-gray-300 rounded-lg text-lg mb-3",rows:"3",placeholder:"Write your answer here...",value:Tn[L]||"",onChange:D=>Sp(F=>({...F,[L]:D.target.value}))}),h.jsx("button",{onClick:()=>Ap(L,O.question,O.answer,Tn[L]),disabled:lu===L,className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700 disabled:bg-gray-400 transition mb-3",children:lu===L?"Checking...":"Check My Answer"}),au[L]&&h.jsx("div",{className:"mt-3 p-4 bg-white border-2 border-blue-300 rounded-lg",children:h.jsx("p",{className:"text-gray-800",children:au[L]})}),h.jsxs("details",{className:"mt-3",children:[h.jsx("summary",{className:"text-blue-600 cursor-pointer hover:text-blue-700 text-sm",children:"Show sample answer"}),h.jsx("p",{className:"text-gray-600 mt-2 p-3 bg-white rounded border border-gray-200",children:O.answer})]})]},L))]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsxs("button",{onClick:()=>e("input"),className:"flex-1 bg-gray-600 text-white py-4 px-6 rounded-lg text-xl font-semibold hover:bg-gray-700 transition",children:[h.jsx(Br,{className:"inline mr-2"})," New Lesson"]}),h.jsx("button",{onClick:()=>e("preteach"),className:"flex-1 bg-blue-600 text-white py-4 px-6 rounded-lg text-xl font-semibold hover:bg-blue-700 transition",children:"Review Vocabulary"})]})]})})}return null};window.storage={async set(t,e){return localStorage.setItem(t,e),{success:!0}},async get(t){const e=localStorage.getItem(t);return e?{value:e}:null},async delete(t){return localStorage.removeItem(t),{success:!0}},async list(t){return{keys:Object.keys(localStorage).filter(r=>r.startsWith(t))}}};Xo.createRoot(document.getElementById("root")).render(h.jsx(Hr.StrictMode,{children:h.jsx(rw,{})}));
